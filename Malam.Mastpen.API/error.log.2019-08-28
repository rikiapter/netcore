2019-08-28 09:04:27,834 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 560016
2019-08-28 09:04:29,378 INFO - CORS policy execution failed.
2019-08-28 09:04:29,381 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-08-28 09:04:31,239 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-08-28 09:04:35,886 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-08-28 09:04:36,050 INFO - Authorization failed.
2019-08-28 09:04:36,055 INFO - Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-08-28 09:04:36,062 INFO - Executing ChallengeResult with authentication schemes ().
2019-08-28 09:04:37,577 INFO - AuthenticationScheme: BearerIdentityServerAuthenticationJwt was challenged.
2019-08-28 09:04:37,580 INFO - AuthenticationScheme: Bearer was challenged.
2019-08-28 09:04:37,588 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 1693.0321ms
2019-08-28 09:04:37,690 INFO - Request finished in 10045.2154ms 401 
2019-08-28 09:04:37,980 INFO - Connection id "0HLPASJJHH5D6", Request id "0HLPASJJHH5D6:00000001": the application completed without reading the entire request body.
2019-08-28 09:05:29,444 INFO - Request starting HTTP/1.1 GET http://localhost:59821/oauth2-redirect.html  
2019-08-28 09:05:29,449 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-08-28 09:05:29,678 INFO - The file /oauth2-redirect.html was not modified
2019-08-28 09:05:29,684 INFO - Request finished in 236.2586ms 304 text/html
2019-08-28 09:05:32,332 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 560016
2019-08-28 09:05:32,354 INFO - CORS policy execution failed.
2019-08-28 09:05:32,356 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-08-28 09:05:35,951 INFO - Successfully validated the token.
2019-08-28 09:05:35,958 DEBUG - AuthenticationScheme: Bearer was successfully authenticated.
2019-08-28 09:05:35,961 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-08-28 09:05:35,968 INFO - Authorization was successful.
2019-08-28 09:05:41,971 INFO - 'PostEmployeeAsync' has been invoked
2019-08-28 09:05:42,005 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-08-28 09:05:59,766 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-28 09:06:02,447 INFO - Executed DbCommand (87ms) [Parameters=[@__entity_IdentityNumber_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[IdentityNumber] = @__entity_IdentityNumber_0
2019-08-28 09:06:08,758 INFO - Executed DbCommand (82ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 50), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentificationTypeID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT [EmployeeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-08-28 09:06:09,025 INFO - Executed DbCommand (73ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-08-28 09:06:09,242 INFO - Executed DbCommand (69ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-08-28 09:06:09,517 INFO - Executed DbCommand (69ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_EmployeeProffesionType] ([Comment], [dateInsert], [dateUpdate], [EmployeeID], [ProffesionTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [EmployeeAuthorizationID], [state]
FROM [BB_HR_EmployeeProffesionType]
WHERE @@ROWCOUNT = 1 AND [EmployeeAuthorizationID] = scope_identity();
2019-08-28 09:06:11,127 INFO - Executed DbCommand (68ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-08-28 09:06:13,404 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-08-28 09:06:13,408 INFO - test log
2019-08-28 09:06:13,604 ERROR - There was a critical error on 'PostEmployeeAsync':   System.AggregateException: One or more errors occurred. (The format of value 'image' is invalid.) ---> Microsoft.WindowsAzure.Storage.StorageException: The format of value 'image' is invalid. ---> System.FormatException: The format of value 'image' is invalid.
   at System.Net.Http.Headers.HttpHeaderParser.ParseValue(String value, Object storeValue, Int32& index)
   at System.Net.Http.Headers.MediaTypeHeaderValue.Parse(String input)
   at Microsoft.WindowsAzure.Storage.Blob.Protocol.BlobHttpRequestMessageFactory.Put(Uri uri, Nullable`1 timeout, BlobProperties properties, BlobType blobType, Int64 pageBlobSize, Nullable`1 pageBlobTier, AccessCondition accessCondition, HttpContent content, OperationContext operationContext, ICanonicalizer canonicalizer, StorageCredentials credentials) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Blob\Protocol\BlobHttpRequestMessageFactory.cs:line 89
   at Microsoft.WindowsAzure.Storage.Blob.CloudBlockBlob.<>c__DisplayClass83_0.<PutBlobImpl>b__1(RESTCommand`1 cmd, Uri uri, UriQueryBuilder builder, HttpContent cnt, Nullable`1 serverTimeout, OperationContext ctx) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Blob\CloudBlockBlob.cs:line 1436
   at Microsoft.WindowsAzure.Storage.Core.Executor.Executor.ExecuteAsyncInternal[T](RESTCommand`1 cmd, IRetryPolicy policy, OperationContext operationContext, CancellationToken token) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Core\Executor\Executor.cs:line 91
   --- End of inner exception stack trace ---
   at Malam.Mastpen.Core.BL.Services.BlobStorageService.UploadFileToBlobAsync(String strFileName, Byte[] fileData, String fileMimeType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\BlobStorageService.cs:line 98
   --- End of inner exception stack trace ---
   at Malam.Mastpen.Core.BL.Services.BlobStorageService.UploadFileToBlob(String strFileName, FileRequest fileRequest) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\BlobStorageService.cs:line 40
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 155
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 251
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
---> (Inner Exception #0) Microsoft.WindowsAzure.Storage.StorageException: The format of value 'image' is invalid. ---> System.FormatException: The format of value 'image' is invalid.
   at System.Net.Http.Headers.HttpHeaderParser.ParseValue(String value, Object storeValue, Int32& index)
   at System.Net.Http.Headers.MediaTypeHeaderValue.Parse(String input)
   at Microsoft.WindowsAzure.Storage.Blob.Protocol.BlobHttpRequestMessageFactory.Put(Uri uri, Nullable`1 timeout, BlobProperties properties, BlobType blobType, Int64 pageBlobSize, Nullable`1 pageBlobTier, AccessCondition accessCondition, HttpContent content, OperationContext operationContext, ICanonicalizer canonicalizer, StorageCredentials credentials) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Blob\Protocol\BlobHttpRequestMessageFactory.cs:line 89
   at Microsoft.WindowsAzure.Storage.Blob.CloudBlockBlob.<>c__DisplayClass83_0.<PutBlobImpl>b__1(RESTCommand`1 cmd, Uri uri, UriQueryBuilder builder, HttpContent cnt, Nullable`1 serverTimeout, OperationContext ctx) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Blob\CloudBlockBlob.cs:line 1436
   at Microsoft.WindowsAzure.Storage.Core.Executor.Executor.ExecuteAsyncInternal[T](RESTCommand`1 cmd, IRetryPolicy policy, OperationContext operationContext, CancellationToken token) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Core\Executor\Executor.cs:line 91
   --- End of inner exception stack trace ---
   at Malam.Mastpen.Core.BL.Services.BlobStorageService.UploadFileToBlobAsync(String strFileName, Byte[] fileData, String fileMimeType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\BlobStorageService.cs:line 98
Request Information
RequestID:
RequestDate:
StatusMessage:
ErrorCode:
<---

2019-08-28 09:06:13,610 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-28 09:06:13,638 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 37672.9918ms
2019-08-28 09:06:13,655 INFO - Request finished in 41320.769ms 200 application/json; charset=utf-8
2019-08-28 09:07:29,033 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 560028
2019-08-28 09:07:29,035 INFO - CORS policy execution failed.
2019-08-28 09:07:29,042 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-08-28 09:07:29,046 INFO - Successfully validated the token.
2019-08-28 09:07:29,048 DEBUG - AuthenticationScheme: Bearer was successfully authenticated.
2019-08-28 09:07:29,051 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-08-28 09:07:29,054 INFO - Authorization was successful.
2019-08-28 09:07:29,210 INFO - 'PostEmployeeAsync' has been invoked
2019-08-28 09:07:29,213 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-08-28 09:07:29,221 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-28 09:07:29,319 INFO - Executed DbCommand (70ms) [Parameters=[@__entity_IdentityNumber_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[IdentityNumber] = @__entity_IdentityNumber_0
2019-08-28 09:07:29,367 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-08-28 09:07:29,368 INFO - test log
2019-08-28 09:07:29,369 ERROR - There was a critical error on 'PostEmployeeAsync': Employee IdentityNumber already exists  System.Exception: Exception of type 'System.Exception' was thrown.
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 215
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-08-28 09:07:29,373 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-28 09:07:29,378 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 322.6715ms
2019-08-28 09:07:29,384 INFO - Request finished in 351.0017ms 200 application/json; charset=utf-8
2019-08-28 09:07:49,473 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 560029
2019-08-28 09:07:49,486 INFO - CORS policy execution failed.
2019-08-28 09:07:49,493 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-08-28 09:07:49,497 INFO - Successfully validated the token.
2019-08-28 09:07:49,499 DEBUG - AuthenticationScheme: Bearer was successfully authenticated.
2019-08-28 09:07:49,503 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-08-28 09:07:49,508 INFO - Authorization was successful.
2019-08-28 09:07:49,604 INFO - 'PostEmployeeAsync' has been invoked
2019-08-28 09:07:49,606 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-08-28 09:07:49,608 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-28 09:07:49,680 INFO - Executed DbCommand (69ms) [Parameters=[@__entity_IdentityNumber_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[IdentityNumber] = @__entity_IdentityNumber_0
2019-08-28 09:07:49,826 INFO - Executed DbCommand (69ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 50), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentificationTypeID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT [EmployeeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-08-28 09:07:53,647 INFO - Executed DbCommand (69ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-08-28 09:07:53,794 INFO - Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-08-28 09:07:54,028 INFO - Executed DbCommand (68ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_EmployeeProffesionType] ([Comment], [dateInsert], [dateUpdate], [EmployeeID], [ProffesionTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [EmployeeAuthorizationID], [state]
FROM [BB_HR_EmployeeProffesionType]
WHERE @@ROWCOUNT = 1 AND [EmployeeAuthorizationID] = scope_identity();
2019-08-28 09:07:56,754 INFO - Executed DbCommand (68ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-08-28 09:07:58,116 INFO - Executed DbCommand (69ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-08-28 09:07:58,288 INFO - Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Docs] ([dateInsert], [dateUpdate], [DocumentDate], [DocumentPath], [DocumentTypeID], [EntityID], [EntityTypeID], [IsDocumentSigned], [LanguageID], [userInsert], [UserUpdate], [ValIdDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT [DocumentID], [state]
FROM [BB_GEN_Docs]
WHERE @@ROWCOUNT = 1 AND [DocumentID] = scope_identity();
2019-08-28 09:08:01,436 INFO - Executed DbCommand (70ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-08-28 09:08:01,839 INFO - Executed DbCommand (68ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-08-28 09:08:02,042 ERROR - Failed executing DbCommand (108ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 250), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Docs] ([DocumentID], [dateInsert], [dateUpdate], [DocumentDate], [DocumentPath], [DocumentTypeID], [EntityID], [EntityTypeID], [IsDocumentSigned], [LanguageID], [state], [userInsert], [UserUpdate], [ValIdDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'BB_GEN_Docs' when IDENTITY_INSERT is set to OFF.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:7702013c-df30-4a0a-8043-18917eb0201f
Error Number:544,State:1,Class:16
2019-08-28 09:08:02,159 ERROR - An exception occurred in the database while saving changes for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert explicit value for identity column in table 'BB_GEN_Docs' when IDENTITY_INSERT is set to OFF.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert explicit value for identity column in table 'BB_GEN_Docs' when IDENTITY_INSERT is set to OFF.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-08-28 09:08:02,345 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-08-28 09:08:02,351 INFO - test log
2019-08-28 09:08:02,357 ERROR - There was a critical error on 'PostEmployeeAsync':   Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert explicit value for identity column in table 'BB_GEN_Docs' when IDENTITY_INSERT is set to OFF.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 163
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 256
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-08-28 09:08:02,362 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-28 09:08:02,374 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 12860.0393ms
2019-08-28 09:08:02,387 INFO - Request finished in 12909.1152ms 200 application/json; charset=utf-8
2019-08-28 09:08:16,524 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 560030
2019-08-28 09:08:16,528 INFO - CORS policy execution failed.
2019-08-28 09:08:16,538 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-08-28 09:08:16,542 INFO - Successfully validated the token.
2019-08-28 09:08:16,546 DEBUG - AuthenticationScheme: Bearer was successfully authenticated.
2019-08-28 09:08:23,400 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-08-28 09:08:23,402 INFO - Authorization was successful.
2019-08-28 09:08:23,429 INFO - 'PostEmployeeAsync' has been invoked
2019-08-28 09:08:23,431 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-08-28 09:08:23,433 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-28 09:08:23,508 INFO - Executed DbCommand (70ms) [Parameters=[@__entity_IdentityNumber_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[IdentityNumber] = @__entity_IdentityNumber_0
2019-08-28 09:08:23,650 INFO - Executed DbCommand (71ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 50), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentificationTypeID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT [EmployeeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-08-28 09:08:23,813 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-08-28 09:08:23,996 INFO - Executed DbCommand (92ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-08-28 09:08:24,216 INFO - Executed DbCommand (70ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_EmployeeProffesionType] ([Comment], [dateInsert], [dateUpdate], [EmployeeID], [ProffesionTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [EmployeeAuthorizationID], [state]
FROM [BB_HR_EmployeeProffesionType]
WHERE @@ROWCOUNT = 1 AND [EmployeeAuthorizationID] = scope_identity();
2019-08-28 09:08:26,526 INFO - Executed DbCommand (69ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-08-28 09:08:27,448 INFO - Executed DbCommand (70ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-08-28 09:08:27,640 INFO - Executed DbCommand (106ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Docs] ([dateInsert], [dateUpdate], [DocumentDate], [DocumentPath], [DocumentTypeID], [EntityID], [EntityTypeID], [IsDocumentSigned], [LanguageID], [userInsert], [UserUpdate], [ValIdDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT [DocumentID], [state]
FROM [BB_GEN_Docs]
WHERE @@ROWCOUNT = 1 AND [DocumentID] = scope_identity();
2019-08-28 09:11:07,028 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-08-28 09:11:07,028 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-08-28 09:11:07,170 INFO - Request finished in 146.2438ms 200 
2019-08-28 09:11:07,187 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-08-28 09:11:07,383 INFO - Request finished in 356.3995ms 200 text/html
2019-08-28 09:11:07,687 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-08-28 09:11:07,690 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-08-28 09:11:08,404 INFO - Request finished in 715.5372ms 200 application/json;charset=utf-8
2019-08-28 09:13:17,658 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 65912
2019-08-28 09:13:17,668 INFO - CORS policy execution failed.
2019-08-28 09:13:17,672 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-08-28 09:13:19,514 INFO - Successfully validated the token.
2019-08-28 09:13:19,520 DEBUG - AuthenticationScheme: Bearer was successfully authenticated.
2019-08-28 09:13:19,610 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-08-28 09:13:19,624 INFO - Authorization was successful.
2019-08-28 09:13:20,240 INFO - Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2019-08-28 09:13:20,261 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 645.39ms
2019-08-28 09:13:20,277 INFO - Request finished in 2619.8236ms 400 application/json; charset=utf-8
2019-08-28 09:14:17,027 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 88479
2019-08-28 09:14:17,033 INFO - CORS policy execution failed.
2019-08-28 09:14:17,035 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-08-28 09:14:17,038 INFO - Successfully validated the token.
2019-08-28 09:14:17,040 DEBUG - AuthenticationScheme: Bearer was successfully authenticated.
2019-08-28 09:14:17,046 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-08-28 09:14:17,050 INFO - Authorization was successful.
2019-08-28 09:14:17,070 INFO - Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2019-08-28 09:14:17,074 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 23.9211ms
2019-08-28 09:14:17,082 INFO - Request finished in 71.7165ms 400 application/json; charset=utf-8
2019-08-28 09:14:47,111 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 88480
2019-08-28 09:14:47,131 INFO - CORS policy execution failed.
2019-08-28 09:14:47,133 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-08-28 09:14:47,139 INFO - Successfully validated the token.
2019-08-28 09:14:47,142 DEBUG - AuthenticationScheme: Bearer was successfully authenticated.
2019-08-28 09:14:47,144 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-08-28 09:14:47,146 INFO - Authorization was successful.
2019-08-28 09:14:47,184 INFO - 'PostEmployeeAsync' has been invoked
2019-08-28 09:14:47,191 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-08-28 09:14:48,438 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-28 09:14:49,498 INFO - Executed DbCommand (84ms) [Parameters=[@__entity_IdentityNumber_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[IdentityNumber] = @__entity_IdentityNumber_0
2019-08-28 09:14:50,101 INFO - Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 50), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentificationTypeID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT [EmployeeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-08-28 09:14:50,365 INFO - Executed DbCommand (68ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-08-28 09:14:50,593 INFO - Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-08-28 09:14:50,836 INFO - Executed DbCommand (68ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_EmployeeProffesionType] ([Comment], [dateInsert], [dateUpdate], [EmployeeID], [ProffesionTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [EmployeeAuthorizationID], [state]
FROM [BB_HR_EmployeeProffesionType]
WHERE @@ROWCOUNT = 1 AND [EmployeeAuthorizationID] = scope_identity();
2019-08-28 09:14:53,680 INFO - Executed DbCommand (68ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-08-28 09:14:55,089 INFO - Executed DbCommand (68ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-08-28 09:14:55,519 INFO - Executed DbCommand (332ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Docs] ([dateInsert], [dateUpdate], [DocumentDate], [DocumentPath], [DocumentTypeID], [EntityID], [EntityTypeID], [IsDocumentSigned], [LanguageID], [userInsert], [UserUpdate], [ValIdDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT [DocumentID], [state]
FROM [BB_GEN_Docs]
WHERE @@ROWCOUNT = 1 AND [DocumentID] = scope_identity();
2019-08-28 09:14:59,901 INFO - Executed DbCommand (71ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-08-28 09:15:00,364 INFO - Executed DbCommand (71ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-08-28 09:15:00,516 INFO - Executed DbCommand (71ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Docs] ([dateInsert], [dateUpdate], [DocumentDate], [DocumentPath], [DocumentTypeID], [EntityID], [EntityTypeID], [IsDocumentSigned], [LanguageID], [userInsert], [UserUpdate], [ValIdDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT [DocumentID], [state]
FROM [BB_GEN_Docs]
WHERE @@ROWCOUNT = 1 AND [DocumentID] = scope_identity();
2019-08-28 09:15:06,026 INFO - Executed DbCommand (68ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-08-28 09:15:06,501 INFO - Executed DbCommand (68ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-08-28 09:15:06,640 INFO - Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Docs] ([dateInsert], [dateUpdate], [DocumentDate], [DocumentPath], [DocumentTypeID], [EntityID], [EntityTypeID], [IsDocumentSigned], [LanguageID], [userInsert], [UserUpdate], [ValIdDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT [DocumentID], [state]
FROM [BB_GEN_Docs]
WHERE @@ROWCOUNT = 1 AND [DocumentID] = scope_identity();
2019-08-28 09:15:12,859 INFO - Executed DbCommand (70ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_EC_SiteEmployee] ([Comment], [DateFrom], [dateInsert], [DateTo], [dateUpdate], [EmployeeID], [SiteID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [SiteEmployeeID], [state]
FROM [BB_EC_SiteEmployee]
WHERE @@ROWCOUNT = 1 AND [SiteEmployeeID] = scope_identity();
2019-08-28 09:15:12,940 INFO - Executed action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 25745.7618ms.
2019-08-28 09:15:12,941 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-08-28 09:15:12,943 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.SingleResponse`1[[Malam.Mastpen.Core.BL.Requests.EmployeeResponse, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-28 09:15:12,964 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 25817.303ms
2019-08-28 09:15:12,973 INFO - Request finished in 25873.5112ms 200 application/json; charset=utf-8
