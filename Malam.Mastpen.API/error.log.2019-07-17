2019-07-17 06:54:00,312 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 06:54:00,312 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 06:54:00,433 INFO - Request finished in 96.0154ms 200 
2019-07-17 06:54:00,469 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 06:54:00,701 INFO - Request finished in 384.3836ms 200 text/html
2019-07-17 06:54:01,934 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 06:54:01,944 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 06:54:03,651 INFO - Request finished in 1714.4126ms 200 application/json;charset=utf-8
2019-07-17 08:29:35,544 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 08:29:35,602 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 08:29:35,820 INFO - Request finished in 278.2264ms 200 text/html
2019-07-17 08:39:30,178 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 08:39:30,178 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 08:39:30,216 INFO - Request finished in 45.7203ms 200 
2019-07-17 08:39:30,242 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 08:39:30,398 INFO - Request finished in 225.5793ms 200 text/html
2019-07-17 08:39:30,743 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 08:39:30,750 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 08:39:31,179 INFO - Request finished in 439.0423ms 200 application/json;charset=utf-8
2019-07-17 08:39:56,666 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 08:39:56,685 INFO - CORS policy execution failed.
2019-07-17 08:39:56,692 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 08:39:56,700 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 08:39:56,808 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 08:39:57,378 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 08:39:57,388 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 08:39:58,560 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 08:39:58,766 WARN - The Include operation for navigation '[b].IdentificationType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 08:39:58,769 WARN - The Include operation for navigation '[b].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 08:39:58,772 WARN - The Include operation for navigation '[b].EmployeeProffesionType.ProffesionType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 08:39:58,777 WARN - The Include operation for navigation '[b].EmployeeAuthtorization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 08:39:58,780 WARN - The Include operation for navigation '[b].EmployeeTraining' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 08:39:58,785 WARN - The Include operation for navigation '[b].EmployeeWorkPermit' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 08:40:00,250 INFO - Executed DbCommand (117ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 08:40:00,411 WARN - Query: '(from Employee b in DbSet<Employee> join Docs docsFaceImage in  from Docs a in DbSet<Docs> where [a]...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-17 08:40:01,204 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 08:40:01,512 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 08:40:01,776 INFO - Executed DbCommand (79ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 08:40:01,913 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 08:40:02,032 INFO - Executed DbCommand (70ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 08:40:02,361 INFO - The PutEmployeeAsync have been retrieved successfully.
2019-07-17 08:40:10,400 INFO - test log
2019-07-17 08:40:10,404 ERROR - There was a critical error on 'PutEmployeeAsync': System.InvalidOperationException: The instance of entity type 'Employee' cannot be tracked because another instance with the same key value for {'EmployeeId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode node, Boolean force)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode node, TState state, Func`3 handleNode)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Malam.Mastpen.Core.DAL.MastpenDbContextExtensions.Update[TEntity](MastpenBitachonDbContext dbContext, TEntity entity, IUserInfo userInfo) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextExtensions.cs:line 57
   at Malam.Mastpen.Core.BL.Services.EmployeeService.UpdateEmployeeAsync(Employee employee) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\EmployeeService.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync(Int32 Id, EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 209
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 08:40:10,417 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 08:40:10,440 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) in 13619.7442ms
2019-07-17 08:40:10,482 INFO - Request finished in 13798.2189ms 200 application/json; charset=utf-8
2019-07-17 08:40:38,331 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 08:40:38,344 INFO - CORS policy execution failed.
2019-07-17 08:40:38,353 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 08:40:38,362 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 08:40:38,368 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 08:40:38,408 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 08:40:38,409 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 08:40:40,918 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 08:40:41,005 INFO - Executed DbCommand (71ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 08:40:41,083 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 08:40:41,181 INFO - Executed DbCommand (73ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 08:40:41,264 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 08:40:41,355 INFO - Executed DbCommand (70ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 08:40:41,431 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 08:40:53,423 INFO - The PutEmployeeAsync have been retrieved successfully.
2019-07-17 08:40:54,790 INFO - test log
2019-07-17 08:42:04,589 ERROR - There was a critical error on 'PutEmployeeAsync': System.InvalidOperationException: The instance of entity type 'Employee' cannot be tracked because another instance with the same key value for {'EmployeeId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode node, Boolean force)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode node, TState state, Func`3 handleNode)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Malam.Mastpen.Core.DAL.MastpenDbContextExtensions.Update[TEntity](MastpenBitachonDbContext dbContext, TEntity entity, IUserInfo userInfo) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextExtensions.cs:line 57
   at Malam.Mastpen.Core.BL.Services.EmployeeService.UpdateEmployeeAsync(Employee employee) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\EmployeeService.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync(Int32 Id, EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 209
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 08:42:04,601 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 08:42:04,609 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) in 86231.9795ms
2019-07-17 08:42:04,617 INFO - Request finished in 86287.1029ms 200 application/json; charset=utf-8
2019-07-17 08:42:09,752 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 08:42:09,758 INFO - CORS policy execution failed.
2019-07-17 08:42:09,764 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 08:42:09,767 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 08:42:09,771 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 08:42:09,811 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 08:42:09,816 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 08:42:20,058 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 08:42:20,133 INFO - Executed DbCommand (70ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 08:42:20,252 INFO - Executed DbCommand (111ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 08:42:20,335 INFO - Executed DbCommand (75ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 08:42:20,408 INFO - Executed DbCommand (70ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 08:42:20,504 INFO - Executed DbCommand (71ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 08:42:20,601 INFO - Executed DbCommand (73ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 08:56:29,412 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 08:56:29,412 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 08:56:29,455 INFO - Request finished in 45.2646ms 200 
2019-07-17 08:56:29,485 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 08:56:29,636 INFO - Request finished in 229.0796ms 200 text/html
2019-07-17 08:56:29,842 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 08:56:29,853 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 08:56:30,288 INFO - Request finished in 447.9412ms 200 application/json;charset=utf-8
2019-07-17 08:56:49,241 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 08:56:49,261 INFO - CORS policy execution failed.
2019-07-17 08:56:49,265 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 08:56:49,275 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 08:56:49,377 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 08:56:49,956 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 08:56:49,965 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 08:57:00,312 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 08:57:00,554 WARN - The Include operation for navigation '[b].IdentificationType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 08:57:00,558 WARN - The Include operation for navigation '[b].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 08:57:00,559 WARN - The Include operation for navigation '[b].EmployeeProffesionType.ProffesionType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 08:57:00,561 WARN - The Include operation for navigation '[b].EmployeeAuthtorization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 08:57:00,563 WARN - The Include operation for navigation '[b].EmployeeTraining' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 08:57:00,564 WARN - The Include operation for navigation '[b].EmployeeWorkPermit' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 08:57:01,691 INFO - Executed DbCommand (107ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 08:57:01,753 WARN - Query: '(from Employee b in DbSet<Employee> join Docs docsFaceImage in  from Docs a in DbSet<Docs> where [a]...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-17 08:57:02,118 INFO - Executed DbCommand (79ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 08:57:02,445 INFO - Executed DbCommand (77ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 08:57:02,564 INFO - Executed DbCommand (75ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 08:57:02,677 INFO - Executed DbCommand (75ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 08:57:02,775 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 08:57:05,571 INFO - Executed DbCommand (75ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__employee_EmployeeId_0
2019-07-17 08:57:11,396 INFO - The PutEmployeeAsync have been retrieved successfully.
2019-07-17 08:57:12,692 INFO - test log
2019-07-17 08:57:14,894 ERROR - There was a critical error on 'PutEmployeeAsync': System.InvalidOperationException: The instance of entity type 'Employee' cannot be tracked because another instance with the same key value for {'EmployeeId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode node, Boolean force)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode node, TState state, Func`3 handleNode)
   at Microsoft.EntityFrameworkCore.DbContext.SetEntityState[TEntity](TEntity entity, EntityState entityState)
   at Malam.Mastpen.Core.DAL.MastpenDbContextExtensions.Update[TEntity](MastpenBitachonDbContext dbContext, TEntity entity, IUserInfo userInfo) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextExtensions.cs:line 57
   at Malam.Mastpen.Core.BL.Services.EmployeeService.UpdateEmployeeAsync(Employee employee) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\EmployeeService.cs:line 124
   at Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync(Int32 Id, EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 210
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 08:57:14,905 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 08:57:14,924 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) in 25539.1834ms
2019-07-17 08:57:14,943 INFO - Request finished in 25703.8768ms 200 application/json; charset=utf-8
2019-07-17 10:12:01,096 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 10:12:01,096 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 10:12:01,139 INFO - Request finished in 48.4072ms 200 
2019-07-17 10:12:01,156 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 10:12:01,294 INFO - Request finished in 204.8088ms 200 text/html
2019-07-17 10:12:01,512 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 10:12:01,516 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 10:12:01,957 INFO - Request finished in 444.7679ms 200 application/json;charset=utf-8
2019-07-17 10:12:12,684 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 10:12:12,719 INFO - CORS policy execution failed.
2019-07-17 10:12:12,742 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 10:12:12,749 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 10:12:12,855 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 10:12:13,424 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 10:12:13,434 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 10:12:16,879 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 10:12:17,067 WARN - The Include operation for navigation '[b].IdentificationType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:12:17,068 WARN - The Include operation for navigation '[b].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:12:17,069 WARN - The Include operation for navigation '[b].EmployeeProffesionType.ProffesionType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:12:17,070 WARN - The Include operation for navigation '[b].EmployeeAuthtorization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:12:17,075 WARN - The Include operation for navigation '[b].EmployeeTraining' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:12:17,078 WARN - The Include operation for navigation '[b].EmployeeWorkPermit' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:12:18,065 INFO - Executed DbCommand (93ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 10:12:18,132 WARN - Query: '(from Employee b in DbSet<Employee> join Docs docsFaceImage in  from Docs a in DbSet<Docs> where [a]...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-17 10:12:18,503 INFO - Executed DbCommand (88ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 10:12:18,810 INFO - Executed DbCommand (79ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 10:12:18,936 INFO - Executed DbCommand (79ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 10:12:19,032 INFO - Executed DbCommand (76ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 10:12:19,131 INFO - Executed DbCommand (76ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 10:12:22,023 INFO - Executed DbCommand (76ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__employee_EmployeeId_0
2019-07-17 10:18:30,959 INFO - Executed DbCommand (95ms) [Parameters=[@p17='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 50), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Boolean), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_HR_Employee] SET [Address] = @p0, [BirthDate] = @p1, [Citizenship] = @p2, [dateInsert] = @p3, [dateUpdate] = @p4, [FirstName] = @p5, [FirstNameEN] = @p6, [GenderID] = @p7, [IdentificationTypeID] = @p8, [IdentityNumber] = @p9, [LastName] = @p10, [LastNameEN] = @p11, [OrganizationID] = @p12, [PassportCountryID] = @p13, [state] = @p14, [userInsert] = @p15, [UserUpdate] = @p16
WHERE [EmployeeID] = @p17;
SELECT @@ROWCOUNT;
2019-07-17 10:18:31,162 INFO - Executed DbCommand (75ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 10:18:31,440 INFO - Executed DbCommand (101ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [ContactID], [dateInsert], [state], [userInsert]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 10:18:31,694 INFO - Executed DbCommand (81ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 10:18:36,866 INFO - Executed DbCommand (75ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 10:18:37,056 INFO - Executed DbCommand (76ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Docs] ([dateInsert], [dateUpdate], [DocumentDate], [DocumentPath], [DocumentTypeID], [EntityID], [EntityTypeID], [IsDocumentSigned], [LanguageID], [userInsert], [UserUpdate], [ValIdDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT [DocumentID], [state]
FROM [BB_GEN_Docs]
WHERE @@ROWCOUNT = 1 AND [DocumentID] = scope_identity();
2019-07-17 10:18:37,225 INFO - Executed DbCommand (76ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 10:18:41,480 INFO - The PutEmployeeAsync have been retrieved successfully.
2019-07-17 10:18:45,580 INFO - test log
2019-07-17 10:18:50,191 ERROR - There was a critical error on 'PutEmployeeAsync': System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at Malam.Mastpen.Core.BL.Services.BlobStorageService.UploadFileToBlob(String strFileName, FileRequest fileRequest) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\BlobStorageService.cs:line 40
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 115
   at Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync(Int32 Id, EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 233
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 10:18:50,207 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 10:18:50,225 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) in 397362.256ms
2019-07-17 10:18:50,255 INFO - Request finished in 397563.4358ms 200 application/json; charset=utf-8
2019-07-17 10:19:02,495 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 10:19:02,519 INFO - CORS policy execution failed.
2019-07-17 10:19:02,527 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 10:19:02,530 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 10:19:02,535 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 10:19:02,547 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 10:19:02,549 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 10:22:57,923 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 10:22:59,720 INFO - Executed DbCommand (78ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 10:23:00,229 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 10:23:00,308 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 10:23:00,395 INFO - Executed DbCommand (73ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 10:23:00,469 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 10:23:00,544 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 10:23:03,512 INFO - Executed DbCommand (71ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__employee_EmployeeId_0
2019-07-17 10:23:11,323 INFO - The PutEmployeeAsync have been retrieved successfully.
2019-07-17 10:23:12,596 INFO - test log
2019-07-17 10:45:43,860 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 10:45:43,860 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 10:45:43,906 INFO - Request finished in 79.4178ms 200 
2019-07-17 10:45:43,922 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 10:45:44,073 INFO - Request finished in 247.3937ms 200 text/html
2019-07-17 10:45:45,121 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 10:45:45,134 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 10:45:45,732 INFO - Request finished in 604.3459ms 200 application/json;charset=utf-8
2019-07-17 10:46:04,378 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 10:46:04,388 INFO - CORS policy execution failed.
2019-07-17 10:46:04,390 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 10:46:04,399 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 10:46:04,492 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 10:46:05,016 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 10:46:05,024 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 10:46:08,571 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 10:46:08,778 WARN - The Include operation for navigation '[b].IdentificationType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:46:08,779 WARN - The Include operation for navigation '[b].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:46:08,781 WARN - The Include operation for navigation '[b].EmployeeProffesionType.ProffesionType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:46:08,782 WARN - The Include operation for navigation '[b].EmployeeAuthtorization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:46:08,784 WARN - The Include operation for navigation '[b].EmployeeTraining' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:46:08,786 WARN - The Include operation for navigation '[b].EmployeeWorkPermit' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:46:09,788 INFO - Executed DbCommand (103ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 10:46:09,843 WARN - Query: '(from Employee b in DbSet<Employee> join Docs docsFaceImage in  from Docs a in DbSet<Docs> where [a]...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-17 10:46:10,221 INFO - Executed DbCommand (84ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 10:46:10,517 INFO - Executed DbCommand (81ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 10:46:10,641 INFO - Executed DbCommand (80ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 10:46:10,742 INFO - Executed DbCommand (83ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 10:46:10,842 INFO - Executed DbCommand (79ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 10:46:13,106 INFO - Executed DbCommand (78ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__employee_EmployeeId_0
2019-07-17 10:46:17,182 INFO - The PutEmployeeAsync have been retrieved successfully.
2019-07-17 10:52:27,530 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 10:52:27,530 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 10:52:27,574 INFO - Request finished in 54.2285ms 200 
2019-07-17 10:52:27,593 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 10:52:27,776 INFO - Request finished in 251.6612ms 200 text/html
2019-07-17 10:52:28,119 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 10:52:28,146 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 10:52:28,629 INFO - Request finished in 542.1614ms 200 application/json;charset=utf-8
2019-07-17 10:52:36,831 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 10:52:36,863 INFO - CORS policy execution failed.
2019-07-17 10:52:36,880 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 10:52:36,898 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 10:52:37,064 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 10:52:37,654 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 10:52:37,662 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 10:52:41,439 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 10:52:41,646 WARN - The Include operation for navigation '[b].IdentificationType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:52:41,647 WARN - The Include operation for navigation '[b].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:52:41,651 WARN - The Include operation for navigation '[b].EmployeeProffesionType.ProffesionType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:52:41,654 WARN - The Include operation for navigation '[b].EmployeeAuthtorization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:52:41,656 WARN - The Include operation for navigation '[b].EmployeeTraining' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:52:41,658 WARN - The Include operation for navigation '[b].EmployeeWorkPermit' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 10:52:42,647 INFO - Executed DbCommand (98ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 10:52:42,711 WARN - Query: '(from Employee b in DbSet<Employee> join Docs docsFaceImage in  from Docs a in DbSet<Docs> where [a]...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-17 10:52:43,112 INFO - Executed DbCommand (93ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 10:52:43,413 INFO - Executed DbCommand (82ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 10:52:43,540 INFO - Executed DbCommand (83ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 10:52:43,639 INFO - Executed DbCommand (80ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 10:52:43,740 INFO - Executed DbCommand (79ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 10:52:46,065 INFO - Executed DbCommand (79ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__employee_EmployeeId_0
2019-07-17 10:52:46,472 INFO - Executed DbCommand (84ms) [Parameters=[@p17='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 50), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_HR_Employee] SET [Address] = @p0, [BirthDate] = @p1, [Citizenship] = @p2, [dateInsert] = @p3, [dateUpdate] = @p4, [FirstName] = @p5, [FirstNameEN] = @p6, [GenderID] = @p7, [IdentificationTypeID] = @p8, [IdentityNumber] = @p9, [LastName] = @p10, [LastNameEN] = @p11, [OrganizationID] = @p12, [PassportCountryID] = @p13, [state] = @p14, [userInsert] = @p15, [UserUpdate] = @p16
WHERE [EmployeeID] = @p17;
SELECT @@ROWCOUNT;
2019-07-17 10:52:50,868 INFO - Executed DbCommand (78ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 10:52:54,617 INFO - Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [ContactID], [dateInsert], [state], [userInsert]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 10:53:02,808 INFO - Executed DbCommand (265ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 10:53:14,332 INFO - Executed DbCommand (159ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 10:53:16,905 INFO - Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Docs] ([dateInsert], [dateUpdate], [DocumentDate], [DocumentPath], [DocumentTypeID], [EntityID], [EntityTypeID], [IsDocumentSigned], [LanguageID], [userInsert], [UserUpdate], [ValIdDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT [DocumentID], [state]
FROM [BB_GEN_Docs]
WHERE @@ROWCOUNT = 1 AND [DocumentID] = scope_identity();
2019-07-17 10:53:21,544 INFO - Executed DbCommand (78ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 10:53:24,047 INFO - The PutEmployeeAsync have been retrieved successfully.
2019-07-17 10:53:25,800 INFO - test log
2019-07-17 10:53:36,528 ERROR - There was a critical error on 'PutEmployeeAsync': System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at Malam.Mastpen.Core.BL.Services.BlobStorageService.UploadFileToBlob(String strFileName, FileRequest fileRequest) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\BlobStorageService.cs:line 40
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 116
   at Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync(Int32 Id, EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 233
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 10:53:36,559 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 10:53:36,578 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) in 59506.5853ms
2019-07-17 10:53:36,600 INFO - Request finished in 59794.8136ms 200 application/json; charset=utf-8
2019-07-17 10:54:37,590 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 10:54:37,592 INFO - CORS policy execution failed.
2019-07-17 10:54:37,594 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 10:54:37,596 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 10:54:37,598 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 10:54:37,617 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 10:54:37,621 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 10:54:40,983 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 10:54:41,068 INFO - Executed DbCommand (80ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 10:54:41,152 INFO - Executed DbCommand (80ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 10:54:41,242 INFO - Executed DbCommand (82ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 10:54:41,328 INFO - Executed DbCommand (79ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 10:54:41,424 INFO - Executed DbCommand (79ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 10:54:41,510 INFO - Executed DbCommand (81ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 10:54:42,532 INFO - Executed DbCommand (78ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__employee_EmployeeId_0
2019-07-17 10:54:42,716 INFO - Executed DbCommand (83ms) [Parameters=[@p17='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 50), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_HR_Employee] SET [Address] = @p0, [BirthDate] = @p1, [Citizenship] = @p2, [dateInsert] = @p3, [dateUpdate] = @p4, [FirstName] = @p5, [FirstNameEN] = @p6, [GenderID] = @p7, [IdentificationTypeID] = @p8, [IdentityNumber] = @p9, [LastName] = @p10, [LastNameEN] = @p11, [OrganizationID] = @p12, [PassportCountryID] = @p13, [state] = @p14, [userInsert] = @p15, [UserUpdate] = @p16
WHERE [EmployeeID] = @p17;
SELECT @@ROWCOUNT;
2019-07-17 10:54:47,449 INFO - Executed DbCommand (78ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 10:54:47,613 INFO - Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [ContactID], [dateInsert], [state], [userInsert]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 10:54:47,779 INFO - Executed DbCommand (79ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 10:56:24,297 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 10:56:24,297 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 10:56:24,354 INFO - Request finished in 52.7061ms 200 
2019-07-17 10:56:24,366 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 10:56:24,497 INFO - Request finished in 206.8938ms 200 text/html
2019-07-17 10:56:24,732 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 10:56:24,740 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 10:56:25,172 INFO - Request finished in 435.4363ms 200 application/json;charset=utf-8
2019-07-17 11:06:40,867 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 11:06:40,867 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 11:06:41,402 INFO - Request finished in 535.6129ms 200 
2019-07-17 11:06:41,413 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:06:42,054 INFO - Request finished in 1196.1898ms 200 text/html
2019-07-17 11:06:42,308 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 11:06:42,318 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:06:42,941 INFO - Request finished in 632.4385ms 200 application/json;charset=utf-8
2019-07-17 11:07:00,926 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 11:07:00,930 INFO - CORS policy execution failed.
2019-07-17 11:07:00,934 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 11:07:00,938 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:07:01,032 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 11:07:01,637 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 11:07:01,644 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 11:07:04,837 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 11:07:05,045 WARN - The Include operation for navigation '[b].IdentificationType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:07:05,047 WARN - The Include operation for navigation '[b].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:07:05,048 WARN - The Include operation for navigation '[b].EmployeeProffesionType.ProffesionType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:07:05,054 WARN - The Include operation for navigation '[b].EmployeeAuthtorization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:07:05,057 WARN - The Include operation for navigation '[b].EmployeeTraining' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:07:05,059 WARN - The Include operation for navigation '[b].EmployeeWorkPermit' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:07:06,170 INFO - Executed DbCommand (98ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 11:07:06,241 WARN - Query: '(from Employee b in DbSet<Employee> join Docs docsFaceImage in  from Docs a in DbSet<Docs> where [a]...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-17 11:07:06,699 INFO - Executed DbCommand (77ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 11:07:07,025 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 11:07:07,141 INFO - Executed DbCommand (73ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 11:07:07,234 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 11:07:07,347 INFO - Executed DbCommand (87ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 11:07:25,270 INFO - Executed DbCommand (72ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__employee_EmployeeId_0
2019-07-17 11:07:25,691 INFO - Executed DbCommand (74ms) [Parameters=[@p17='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 50), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_HR_Employee] SET [Address] = @p0, [BirthDate] = @p1, [Citizenship] = @p2, [dateInsert] = @p3, [dateUpdate] = @p4, [FirstName] = @p5, [FirstNameEN] = @p6, [GenderID] = @p7, [IdentificationTypeID] = @p8, [IdentityNumber] = @p9, [LastName] = @p10, [LastNameEN] = @p11, [OrganizationID] = @p12, [PassportCountryID] = @p13, [state] = @p14, [userInsert] = @p15, [UserUpdate] = @p16
WHERE [EmployeeID] = @p17;
SELECT @@ROWCOUNT;
2019-07-17 11:07:39,850 INFO - Executed DbCommand (80ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 11:07:43,546 INFO - Executed DbCommand (2,345ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[ContactID], [item].[dateInsert], [item].[dateUpdate], [item].[EMail], [item].[EntityID], [item].[EntityTypeID], [item].[PhoneNumber], [item].[PhoneTypeID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_PhoneMail] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 11:07:48,233 INFO - Executed DbCommand (76ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_GEN_PhoneMail] SET [dateInsert] = @p0, [dateUpdate] = @p1, [EMail] = @p2, [EntityID] = @p3, [EntityTypeID] = @p4, [PhoneNumber] = @p5, [PhoneTypeID] = @p6, [state] = @p7, [userInsert] = @p8, [UserUpdate] = @p9
WHERE [ContactID] = @p10;
SELECT @@ROWCOUNT;
2019-07-17 11:07:59,887 INFO - Executed DbCommand (73ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 11:08:51,880 INFO - Executed DbCommand (71ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 11:09:33,968 INFO - Executed DbCommand (73ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Docs] ([dateInsert], [dateUpdate], [DocumentDate], [DocumentPath], [DocumentTypeID], [EntityID], [EntityTypeID], [IsDocumentSigned], [LanguageID], [userInsert], [UserUpdate], [ValIdDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT [DocumentID], [state]
FROM [BB_GEN_Docs]
WHERE @@ROWCOUNT = 1 AND [DocumentID] = scope_identity();
2019-07-17 11:09:37,696 INFO - Executed DbCommand (72ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 11:12:17,023 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 11:12:17,023 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 11:12:17,080 INFO - Request finished in 72.9411ms 200 
2019-07-17 11:12:17,100 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:12:17,271 INFO - Request finished in 253.7111ms 200 text/html
2019-07-17 11:12:17,516 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 11:12:17,520 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:12:18,042 INFO - Request finished in 524.8649ms 200 application/json;charset=utf-8
2019-07-17 11:14:21,138 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 11:14:21,147 INFO - CORS policy execution failed.
2019-07-17 11:14:21,160 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 11:14:21,163 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:14:21,261 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 11:14:21,776 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 11:14:21,784 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 11:14:34,290 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 11:14:34,481 WARN - The Include operation for navigation '[b].IdentificationType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:14:34,482 WARN - The Include operation for navigation '[b].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:14:34,483 WARN - The Include operation for navigation '[b].EmployeeProffesionType.ProffesionType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:14:34,485 WARN - The Include operation for navigation '[b].EmployeeAuthtorization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:14:34,486 WARN - The Include operation for navigation '[b].EmployeeTraining' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:14:34,487 WARN - The Include operation for navigation '[b].EmployeeWorkPermit' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:14:35,514 INFO - Executed DbCommand (95ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 11:14:35,577 WARN - Query: '(from Employee b in DbSet<Employee> join Docs docsFaceImage in  from Docs a in DbSet<Docs> where [a]...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-17 11:14:35,950 INFO - Executed DbCommand (83ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 11:14:36,278 INFO - Executed DbCommand (82ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 11:14:36,396 INFO - Executed DbCommand (81ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 11:14:36,497 INFO - Executed DbCommand (80ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 11:14:36,595 INFO - Executed DbCommand (80ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 11:14:38,291 INFO - Executed DbCommand (80ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__employee_EmployeeId_0
2019-07-17 11:14:38,734 INFO - Executed DbCommand (80ms) [Parameters=[@p17='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 50), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_HR_Employee] SET [Address] = @p0, [BirthDate] = @p1, [Citizenship] = @p2, [dateInsert] = @p3, [dateUpdate] = @p4, [FirstName] = @p5, [FirstNameEN] = @p6, [GenderID] = @p7, [IdentificationTypeID] = @p8, [IdentityNumber] = @p9, [LastName] = @p10, [LastNameEN] = @p11, [OrganizationID] = @p12, [PassportCountryID] = @p13, [state] = @p14, [userInsert] = @p15, [UserUpdate] = @p16
WHERE [EmployeeID] = @p17;
SELECT @@ROWCOUNT;
2019-07-17 11:14:53,175 INFO - Executed DbCommand (611ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 11:14:53,324 INFO - Executed DbCommand (80ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[ContactID], [item].[dateInsert], [item].[dateUpdate], [item].[EMail], [item].[EntityID], [item].[EntityTypeID], [item].[PhoneNumber], [item].[PhoneTypeID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_PhoneMail] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 11:14:53,554 INFO - Executed DbCommand (82ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_GEN_PhoneMail] SET [dateInsert] = @p0, [dateUpdate] = @p1, [EMail] = @p2, [EntityID] = @p3, [EntityTypeID] = @p4, [PhoneNumber] = @p5, [PhoneTypeID] = @p6, [state] = @p7, [userInsert] = @p8, [UserUpdate] = @p9
WHERE [ContactID] = @p10;
SELECT @@ROWCOUNT;
2019-07-17 11:14:57,417 INFO - Executed DbCommand (80ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 11:20:11,315 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 11:20:11,315 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 11:20:11,355 INFO - Request finished in 42.1942ms 200 
2019-07-17 11:20:11,371 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:20:11,497 INFO - Request finished in 186.7948ms 200 text/html
2019-07-17 11:20:11,699 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 11:20:11,718 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:20:12,163 INFO - Request finished in 448.0491ms 200 application/json;charset=utf-8
2019-07-17 11:20:28,978 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 11:20:28,983 INFO - CORS policy execution failed.
2019-07-17 11:20:28,999 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 11:20:29,007 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:20:29,122 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 11:20:29,638 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 11:20:29,645 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 11:20:53,027 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 11:20:53,228 WARN - The Include operation for navigation '[b].IdentificationType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:20:53,229 WARN - The Include operation for navigation '[b].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:20:53,230 WARN - The Include operation for navigation '[b].EmployeeProffesionType.ProffesionType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:20:53,231 WARN - The Include operation for navigation '[b].EmployeeAuthtorization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:20:53,233 WARN - The Include operation for navigation '[b].EmployeeTraining' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:20:53,234 WARN - The Include operation for navigation '[b].EmployeeWorkPermit' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:20:54,180 INFO - Executed DbCommand (89ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 11:20:54,244 WARN - Query: '(from Employee b in DbSet<Employee> join Docs docsFaceImage in  from Docs a in DbSet<Docs> where [a]...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-17 11:20:54,596 INFO - Executed DbCommand (79ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 11:20:57,511 INFO - Executed DbCommand (71ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 11:20:57,632 INFO - Executed DbCommand (70ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 11:20:57,722 INFO - Executed DbCommand (73ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 11:20:57,810 INFO - Executed DbCommand (71ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 11:20:59,622 INFO - Executed DbCommand (69ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__employee_EmployeeId_0
2019-07-17 11:21:00,018 INFO - Executed DbCommand (74ms) [Parameters=[@p17='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 50), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_HR_Employee] SET [Address] = @p0, [BirthDate] = @p1, [Citizenship] = @p2, [dateInsert] = @p3, [dateUpdate] = @p4, [FirstName] = @p5, [FirstNameEN] = @p6, [GenderID] = @p7, [IdentificationTypeID] = @p8, [IdentityNumber] = @p9, [LastName] = @p10, [LastNameEN] = @p11, [OrganizationID] = @p12, [PassportCountryID] = @p13, [state] = @p14, [userInsert] = @p15, [UserUpdate] = @p16
WHERE [EmployeeID] = @p17;
SELECT @@ROWCOUNT;
2019-07-17 11:21:04,494 INFO - Executed DbCommand (69ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 11:21:04,615 INFO - Executed DbCommand (69ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[ContactID], [item].[dateInsert], [item].[dateUpdate], [item].[EMail], [item].[EntityID], [item].[EntityTypeID], [item].[PhoneNumber], [item].[PhoneTypeID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_PhoneMail] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 11:21:04,798 INFO - Executed DbCommand (69ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_GEN_PhoneMail] SET [dateInsert] = @p0, [dateUpdate] = @p1, [EMail] = @p2, [EntityID] = @p3, [EntityTypeID] = @p4, [PhoneNumber] = @p5, [PhoneTypeID] = @p6, [state] = @p7, [userInsert] = @p8, [UserUpdate] = @p9
WHERE [ContactID] = @p10;
SELECT @@ROWCOUNT;
2019-07-17 11:21:09,196 INFO - Executed DbCommand (72ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 11:22:37,142 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 11:22:37,142 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 11:22:37,184 INFO - Request finished in 52.35ms 200 
2019-07-17 11:22:37,201 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:22:37,343 INFO - Request finished in 204.5755ms 200 text/html
2019-07-17 11:22:37,558 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 11:22:37,562 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:22:37,981 INFO - Request finished in 433.8803ms 200 application/json;charset=utf-8
2019-07-17 11:24:02,924 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 11:24:02,929 INFO - CORS policy execution failed.
2019-07-17 11:24:02,933 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 11:24:02,939 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:24:03,024 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 11:24:03,420 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 11:24:03,431 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 11:24:06,205 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 11:24:06,425 WARN - The Include operation for navigation '[b].IdentificationType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:24:06,427 WARN - The Include operation for navigation '[b].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:24:06,429 WARN - The Include operation for navigation '[b].EmployeeProffesionType.ProffesionType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:24:06,436 WARN - The Include operation for navigation '[b].EmployeeAuthtorization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:24:06,440 WARN - The Include operation for navigation '[b].EmployeeTraining' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:24:06,443 WARN - The Include operation for navigation '[b].EmployeeWorkPermit' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:24:07,537 INFO - Executed DbCommand (90ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 11:24:07,603 WARN - Query: '(from Employee b in DbSet<Employee> join Docs docsFaceImage in  from Docs a in DbSet<Docs> where [a]...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-17 11:24:07,973 INFO - Executed DbCommand (75ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 11:24:08,271 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 11:24:08,392 INFO - Executed DbCommand (75ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 11:24:08,513 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 11:24:08,603 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 11:24:10,328 INFO - Executed DbCommand (71ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__employee_EmployeeId_0
2019-07-17 11:24:10,706 INFO - Executed DbCommand (74ms) [Parameters=[@p17='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 50), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_HR_Employee] SET [Address] = @p0, [BirthDate] = @p1, [Citizenship] = @p2, [dateInsert] = @p3, [dateUpdate] = @p4, [FirstName] = @p5, [FirstNameEN] = @p6, [GenderID] = @p7, [IdentificationTypeID] = @p8, [IdentityNumber] = @p9, [LastName] = @p10, [LastNameEN] = @p11, [OrganizationID] = @p12, [PassportCountryID] = @p13, [state] = @p14, [userInsert] = @p15, [UserUpdate] = @p16
WHERE [EmployeeID] = @p17;
SELECT @@ROWCOUNT;
2019-07-17 11:24:11,805 INFO - Executed DbCommand (78ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 11:24:11,924 INFO - Executed DbCommand (71ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[ContactID], [item].[dateInsert], [item].[dateUpdate], [item].[EMail], [item].[EntityID], [item].[EntityTypeID], [item].[PhoneNumber], [item].[PhoneTypeID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_PhoneMail] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 11:24:12,121 INFO - Executed DbCommand (72ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_GEN_PhoneMail] SET [dateInsert] = @p0, [dateUpdate] = @p1, [EMail] = @p2, [EntityID] = @p3, [EntityTypeID] = @p4, [PhoneNumber] = @p5, [PhoneTypeID] = @p6, [state] = @p7, [userInsert] = @p8, [UserUpdate] = @p9
WHERE [ContactID] = @p10;
SELECT @@ROWCOUNT;
2019-07-17 11:24:20,190 INFO - Executed DbCommand (72ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 11:27:17,666 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 11:27:17,666 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 11:27:17,789 INFO - Request finished in 110.9671ms 200 
2019-07-17 11:27:17,798 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:27:18,024 INFO - Request finished in 310.1355ms 200 text/html
2019-07-17 11:27:18,193 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 11:27:18,200 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:27:18,868 INFO - Request finished in 671.917ms 200 application/json;charset=utf-8
2019-07-17 11:27:40,442 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172925
2019-07-17 11:27:40,455 INFO - CORS policy execution failed.
2019-07-17 11:27:40,458 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 11:27:40,461 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:27:40,559 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 11:27:41,085 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 11:27:41,092 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 11:27:43,966 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 11:27:44,151 WARN - The Include operation for navigation '[b].IdentificationType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:27:44,153 WARN - The Include operation for navigation '[b].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:27:44,154 WARN - The Include operation for navigation '[b].EmployeeProffesionType.ProffesionType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:27:44,155 WARN - The Include operation for navigation '[b].EmployeeAuthtorization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:27:44,158 WARN - The Include operation for navigation '[b].EmployeeTraining' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:27:44,160 WARN - The Include operation for navigation '[b].EmployeeWorkPermit' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:27:45,120 INFO - Executed DbCommand (93ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 11:27:45,180 WARN - Query: '(from Employee b in DbSet<Employee> join Docs docsFaceImage in  from Docs a in DbSet<Docs> where [a]...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-17 11:27:45,533 INFO - Executed DbCommand (75ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 11:27:45,824 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 11:27:45,935 INFO - Executed DbCommand (70ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 11:27:46,024 INFO - Executed DbCommand (71ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 11:27:46,119 INFO - Executed DbCommand (70ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 11:27:48,020 INFO - Executed DbCommand (69ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__employee_EmployeeId_0
2019-07-17 11:27:48,440 INFO - Executed DbCommand (70ms) [Parameters=[@p17='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 50), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_HR_Employee] SET [Address] = @p0, [BirthDate] = @p1, [Citizenship] = @p2, [dateInsert] = @p3, [dateUpdate] = @p4, [FirstName] = @p5, [FirstNameEN] = @p6, [GenderID] = @p7, [IdentificationTypeID] = @p8, [IdentityNumber] = @p9, [LastName] = @p10, [LastNameEN] = @p11, [OrganizationID] = @p12, [PassportCountryID] = @p13, [state] = @p14, [userInsert] = @p15, [UserUpdate] = @p16
WHERE [EmployeeID] = @p17;
SELECT @@ROWCOUNT;
2019-07-17 11:27:49,613 INFO - Executed DbCommand (69ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 11:27:49,728 INFO - Executed DbCommand (69ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[ContactID], [item].[dateInsert], [item].[dateUpdate], [item].[EMail], [item].[EntityID], [item].[EntityTypeID], [item].[PhoneNumber], [item].[PhoneTypeID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_PhoneMail] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 11:27:49,929 INFO - Executed DbCommand (73ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_GEN_PhoneMail] SET [dateInsert] = @p0, [dateUpdate] = @p1, [EMail] = @p2, [EntityID] = @p3, [EntityTypeID] = @p4, [PhoneNumber] = @p5, [PhoneTypeID] = @p6, [state] = @p7, [userInsert] = @p8, [UserUpdate] = @p9
WHERE [ContactID] = @p10;
SELECT @@ROWCOUNT;
2019-07-17 11:27:53,168 INFO - Executed DbCommand (732ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 11:28:01,315 INFO - Executed DbCommand (70ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 11:28:01,388 INFO - Executed DbCommand (70ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 11:28:01,554 INFO - Executed DbCommand (73ms) [Parameters=[@p13='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_GEN_Docs] SET [dateInsert] = @p0, [dateUpdate] = @p1, [DocumentDate] = @p2, [DocumentPath] = @p3, [DocumentTypeID] = @p4, [EntityID] = @p5, [EntityTypeID] = @p6, [IsDocumentSigned] = @p7, [LanguageID] = @p8, [state] = @p9, [userInsert] = @p10, [UserUpdate] = @p11, [ValIdDate] = @p12
WHERE [DocumentID] = @p13;
SELECT @@ROWCOUNT;
2019-07-17 11:28:24,200 INFO - Executed DbCommand (700ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 11:28:35,605 INFO - The PutEmployeeAsync have been retrieved successfully.
2019-07-17 11:28:36,463 INFO - test log
2019-07-17 11:28:36,464 ERROR - There was a critical error on 'PutEmployeeAsync': System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at Malam.Mastpen.Core.BL.Services.BlobStorageService.UploadFileToBlob(String strFileName, FileRequest fileRequest) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\BlobStorageService.cs:line 40
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 132
   at Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync(Int32 Id, EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 233
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 11:28:36,477 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 11:28:36,497 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) in 55932.3766ms
2019-07-17 11:28:36,530 INFO - Request finished in 56081.6114ms 200 application/json; charset=utf-8
2019-07-17 11:30:39,956 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 11:30:39,956 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 11:30:40,002 INFO - Request finished in 52.1061ms 200 
2019-07-17 11:30:40,026 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:30:40,211 INFO - Request finished in 260.2127ms 200 text/html
2019-07-17 11:30:40,458 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 11:30:40,460 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:30:40,909 INFO - Request finished in 444.2814ms 200 application/json;charset=utf-8
2019-07-17 11:32:11,770 INFO - Request starting HTTP/1.1 PUT http://localhost:59821/api/v1/Employee/Employee/69 application/json-patch+json 172769
2019-07-17 11:32:11,773 INFO - CORS policy execution failed.
2019-07-17 11:32:11,776 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 11:32:11,778 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 11:32:11,868 INFO - Route matched with {action = "PutEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 11:32:12,380 INFO - 'PutEmployeeAsync' has been invoked
2019-07-17 11:32:12,391 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) with arguments (69, Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 11:32:15,181 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 11:32:15,387 WARN - The Include operation for navigation '[b].IdentificationType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:32:15,389 WARN - The Include operation for navigation '[b].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:32:15,392 WARN - The Include operation for navigation '[b].EmployeeProffesionType.ProffesionType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:32:15,395 WARN - The Include operation for navigation '[b].EmployeeAuthtorization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:32:15,397 WARN - The Include operation for navigation '[b].EmployeeTraining' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:32:15,398 WARN - The Include operation for navigation '[b].EmployeeWorkPermit' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 11:32:16,406 INFO - Executed DbCommand (94ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 11:32:16,462 WARN - Query: '(from Employee b in DbSet<Employee> join Docs docsFaceImage in  from Docs a in DbSet<Docs> where [a]...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-17 11:32:16,837 INFO - Executed DbCommand (88ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 11:32:17,135 INFO - Executed DbCommand (89ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 11:32:17,260 INFO - Executed DbCommand (84ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 11:32:17,361 INFO - Executed DbCommand (79ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 11:32:17,456 INFO - Executed DbCommand (79ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 11:32:19,256 INFO - Executed DbCommand (93ms) [Parameters=[@__employee_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__employee_EmployeeId_0
2019-07-17 11:32:19,687 INFO - Executed DbCommand (79ms) [Parameters=[@p17='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 50), @p11='?' (Size = 50), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_HR_Employee] SET [Address] = @p0, [BirthDate] = @p1, [Citizenship] = @p2, [dateInsert] = @p3, [dateUpdate] = @p4, [FirstName] = @p5, [FirstNameEN] = @p6, [GenderID] = @p7, [IdentificationTypeID] = @p8, [IdentityNumber] = @p9, [LastName] = @p10, [LastNameEN] = @p11, [OrganizationID] = @p12, [PassportCountryID] = @p13, [state] = @p14, [userInsert] = @p15, [UserUpdate] = @p16
WHERE [EmployeeID] = @p17;
SELECT @@ROWCOUNT;
2019-07-17 11:32:21,239 INFO - Executed DbCommand (104ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 11:32:21,374 INFO - Executed DbCommand (81ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[ContactID], [item].[dateInsert], [item].[dateUpdate], [item].[EMail], [item].[EntityID], [item].[EntityTypeID], [item].[PhoneNumber], [item].[PhoneTypeID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_PhoneMail] AS [item]
WHERE ([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)
2019-07-17 11:32:21,590 INFO - Executed DbCommand (79ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_GEN_PhoneMail] SET [dateInsert] = @p0, [dateUpdate] = @p1, [EMail] = @p2, [EntityID] = @p3, [EntityTypeID] = @p4, [PhoneNumber] = @p5, [PhoneTypeID] = @p6, [state] = @p7, [userInsert] = @p8, [UserUpdate] = @p9
WHERE [ContactID] = @p10;
SELECT @@ROWCOUNT;
2019-07-17 11:32:23,481 INFO - Executed DbCommand (79ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 11:32:25,406 INFO - Executed DbCommand (78ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 11:32:25,493 INFO - Executed DbCommand (82ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 11:32:25,675 INFO - Executed DbCommand (78ms) [Parameters=[@p13='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BB_GEN_Docs] SET [dateInsert] = @p0, [dateUpdate] = @p1, [DocumentDate] = @p2, [DocumentPath] = @p3, [DocumentTypeID] = @p4, [EntityID] = @p5, [EntityTypeID] = @p6, [IsDocumentSigned] = @p7, [LanguageID] = @p8, [state] = @p9, [userInsert] = @p10, [UserUpdate] = @p11, [ValIdDate] = @p12
WHERE [DocumentID] = @p13;
SELECT @@ROWCOUNT;
2019-07-17 11:32:29,721 INFO - Executed DbCommand (716ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 11:32:34,712 INFO - Executed DbCommand (82ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 11:32:34,718 INFO - Executed action method Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22323.9576ms.
2019-07-17 11:32:34,719 INFO - The PutEmployeeAsync have been retrieved successfully.
2019-07-17 11:32:34,737 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.SingleResponse`1[[Malam.Mastpen.Core.BL.Requests.EmployeeResponse, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 11:32:34,769 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PutEmployeeAsync (Malam.Mastpen.HR.API) in 22891.6547ms
2019-07-17 11:32:34,811 INFO - Request finished in 23021.1098ms 200 application/json; charset=utf-8
2019-07-17 12:08:49,829 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 12:08:49,829 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 12:08:49,891 INFO - Request finished in 75.5222ms 200 
2019-07-17 12:08:49,952 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 12:08:50,141 INFO - Request finished in 329.7488ms 200 text/html
2019-07-17 12:08:50,432 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 12:08:50,437 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 12:08:52,647 INFO - Request finished in 2196.1372ms 200 application/json;charset=utf-8
2019-07-17 12:09:01,527 INFO - Request starting HTTP/1.1 GET http://localhost:59821/api/v1/Employee/Employee?pageSize=10&pageNumber=1  
2019-07-17 12:09:01,528 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 12:09:01,641 INFO - Route matched with {action = "GetEmployeesAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.GetEmployeesAsync (Malam.Mastpen.HR.API)
2019-07-17 12:09:02,266 INFO - 'GetEmployeesAsync' has been invoked
2019-07-17 12:09:02,278 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.GetEmployeesAsync (Malam.Mastpen.HR.API) with arguments (10, 1, , , , , , , ) - Validation state: Valid
2019-07-17 12:09:03,573 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 12:09:03,796 WARN - The Include operation for navigation '[b].IdentificationType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 12:09:03,798 WARN - The Include operation for navigation '[b].Organization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 12:09:03,801 WARN - The Include operation for navigation '[b].EmployeeProffesionType.ProffesionType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 12:09:03,804 WARN - The Include operation for navigation '[b].EmployeeAuthtorization' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 12:09:03,810 WARN - The Include operation for navigation '[b].EmployeeTraining' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 12:09:03,812 WARN - The Include operation for navigation '[b].EmployeeWorkPermit' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-17 12:09:04,960 INFO - Executed DbCommand (94ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [BB_HR_Employee] AS [b]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
2019-07-17 12:09:05,018 WARN - Query: '(from Employee b in DbSet<Employee> join Docs docsFaceImage in  from Docs a in DbSet<Docs> where [a]...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-17 12:09:05,392 INFO - Executed DbCommand (80ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[EmployeeID], [b].[Address], [b].[BirthDate], [b].[Citizenship], [b].[dateInsert], [b].[dateUpdate], [b].[FirstName], [b].[FirstNameEN], [b].[GenderID], [b].[IdentificationTypeID], [b].[IdentityNumber], [b].[LastName], [b].[LastNameEN], [b].[OrganizationID], [b].[PassportCountryID], [b].[state], [b].[userInsert], [b].[UserUpdate], [b.Organization].[OrganizationID], [b.Organization].[Comment], [b.Organization].[dateInsert], [b.Organization].[dateUpdate], [b.Organization].[OrganizationName], [b.Organization].[OrganizationNumber], [b.Organization].[OrganizationParentID], [b.Organization].[OrganizationTypeID], [b.Organization].[state], [b.Organization].[userInsert], [b.Organization].[UserUpdate], [b.IdentificationType].[IdentificationTypeID], [b.IdentificationType].[Comment], [b.IdentificationType].[dateInsert], [b.IdentificationType].[dateUpdate], [b.IdentificationType].[IdentificationTypeName], [b.IdentificationType].[state], [b.IdentificationType].[userInsert], [b.IdentificationType].[UserUpdate], [t].[DocumentID], [t].[dateInsert], [t].[dateUpdate], [t].[DocumentDate], [t].[DocumentPath], [t].[DocumentTypeID], [t].[EntityID], [t].[EntityTypeID], [t].[IsDocumentSigned], [t].[LanguageID], [t].[state], [t].[userInsert], [t].[UserUpdate], [t].[ValIdDate]
FROM [BB_HR_Employee] AS [b]
LEFT JOIN [BB_GEN_Organization] AS [b.Organization] ON [b].[OrganizationID] = [b.Organization].[OrganizationID]
LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType] ON [b].[IdentificationTypeID] = [b.IdentificationType].[IdentificationTypeID]
LEFT JOIN (
    SELECT [a].[DocumentID], [a].[dateInsert], [a].[dateUpdate], [a].[DocumentDate], [a].[DocumentPath], [a].[DocumentTypeID], [a].[EntityID], [a].[EntityTypeID], [a].[IsDocumentSigned], [a].[LanguageID], [a].[state], [a].[userInsert], [a].[UserUpdate], [a].[ValIdDate]
    FROM [BB_GEN_Docs] AS [a]
    WHERE ([a].[EntityTypeID] = (
        SELECT TOP(1) [item].[EntityTypeID]
        FROM [BB_GEN_EntityType] AS [item]
        WHERE [item].[EntityTypeName] = @__tableName_0
    )) AND ([a].[DocumentTypeID] = 7)
) AS [t] ON [b].[EmployeeID] = [t].[EntityID]
ORDER BY [b].[EmployeeID]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-07-17 12:09:05,678 INFO - Executed DbCommand (80ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeProffesionType].[EmployeeAuthorizationID], [b.EmployeeProffesionType].[Comment], [b.EmployeeProffesionType].[dateInsert], [b.EmployeeProffesionType].[dateUpdate], [b.EmployeeProffesionType].[EmployeeID], [b.EmployeeProffesionType].[ProffesionTypeID], [b.EmployeeProffesionType].[state], [b.EmployeeProffesionType].[userInsert], [b.EmployeeProffesionType].[UserUpdate], [e.ProffesionType].[ProffesionTypeID], [e.ProffesionType].[Comment], [e.ProffesionType].[dateInsert], [e.ProffesionType].[dateUpdate], [e.ProffesionType].[ProffesionTypeName], [e.ProffesionType].[state], [e.ProffesionType].[userInsert], [e.ProffesionType].[UserUpdate]
FROM [BB_HR_EmployeeProffesionType] AS [b.EmployeeProffesionType]
LEFT JOIN [BB_HR_ProffesionType] AS [e.ProffesionType] ON [b.EmployeeProffesionType].[ProffesionTypeID] = [e.ProffesionType].[ProffesionTypeID]
INNER JOIN (
    SELECT DISTINCT [t1].*
    FROM (
        SELECT [b0].[EmployeeID]
        FROM [BB_HR_Employee] AS [b0]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization0] ON [b0].[OrganizationID] = [b.Organization0].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType0] ON [b0].[IdentificationTypeID] = [b.IdentificationType0].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a0].*
            FROM [BB_GEN_Docs] AS [a0]
            WHERE ([a0].[EntityTypeID] = (
                SELECT TOP(1) [item0].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item0]
                WHERE [item0].[EntityTypeName] = @__tableName_0
            )) AND ([a0].[DocumentTypeID] = 7)
        ) AS [t0] ON [b0].[EmployeeID] = [t0].[EntityID]
        ORDER BY [b0].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t1]
) AS [t2] ON [b.EmployeeProffesionType].[EmployeeID] = [t2].[EmployeeID]
ORDER BY [t2].[EmployeeID]
2019-07-17 12:09:05,808 INFO - Executed DbCommand (83ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeAuthtorization].[EmployeeAuthorizationID], [b.EmployeeAuthtorization].[AuthorizationTypeID], [b.EmployeeAuthtorization].[Comment], [b.EmployeeAuthtorization].[DateFrom], [b.EmployeeAuthtorization].[dateInsert], [b.EmployeeAuthtorization].[DateTo], [b.EmployeeAuthtorization].[dateUpdate], [b.EmployeeAuthtorization].[EmployeeAuthorizationName], [b.EmployeeAuthtorization].[EmployeeID], [b.EmployeeAuthtorization].[SiteId], [b.EmployeeAuthtorization].[state], [b.EmployeeAuthtorization].[userInsert], [b.EmployeeAuthtorization].[UserUpdate]
FROM [BB_HR_EmployeeAuthtorization] AS [b.EmployeeAuthtorization]
INNER JOIN (
    SELECT DISTINCT [t4].*
    FROM (
        SELECT [b1].[EmployeeID]
        FROM [BB_HR_Employee] AS [b1]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization1] ON [b1].[OrganizationID] = [b.Organization1].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType1] ON [b1].[IdentificationTypeID] = [b.IdentificationType1].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a1].*
            FROM [BB_GEN_Docs] AS [a1]
            WHERE ([a1].[EntityTypeID] = (
                SELECT TOP(1) [item1].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item1]
                WHERE [item1].[EntityTypeName] = @__tableName_0
            )) AND ([a1].[DocumentTypeID] = 7)
        ) AS [t3] ON [b1].[EmployeeID] = [t3].[EntityID]
        ORDER BY [b1].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t4]
) AS [t5] ON [b.EmployeeAuthtorization].[EmployeeID] = [t5].[EmployeeID]
ORDER BY [t5].[EmployeeID]
2019-07-17 12:09:05,912 INFO - Executed DbCommand (81ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeTraining].[EmployeeTrainingID], [b.EmployeeTraining].[Comment], [b.EmployeeTraining].[DateFrom], [b.EmployeeTraining].[dateInsert], [b.EmployeeTraining].[DateTo], [b.EmployeeTraining].[dateUpdate], [b.EmployeeTraining].[EmployeeID], [b.EmployeeTraining].[EmployeeTrainingName], [b.EmployeeTraining].[SiteID], [b.EmployeeTraining].[state], [b.EmployeeTraining].[TrainingTypeID], [b.EmployeeTraining].[userInsert], [b.EmployeeTraining].[UserUpdate]
FROM [BB_HR_EmployeeTraining] AS [b.EmployeeTraining]
INNER JOIN (
    SELECT DISTINCT [t7].*
    FROM (
        SELECT [b2].[EmployeeID]
        FROM [BB_HR_Employee] AS [b2]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization2] ON [b2].[OrganizationID] = [b.Organization2].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType2] ON [b2].[IdentificationTypeID] = [b.IdentificationType2].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a2].*
            FROM [BB_GEN_Docs] AS [a2]
            WHERE ([a2].[EntityTypeID] = (
                SELECT TOP(1) [item2].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item2]
                WHERE [item2].[EntityTypeName] = @__tableName_0
            )) AND ([a2].[DocumentTypeID] = 7)
        ) AS [t6] ON [b2].[EmployeeID] = [t6].[EntityID]
        ORDER BY [b2].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t7]
) AS [t8] ON [b.EmployeeTraining].[EmployeeID] = [t8].[EmployeeID]
ORDER BY [t8].[EmployeeID]
2019-07-17 12:09:06,008 INFO - Executed DbCommand (79ms) [Parameters=[@__tableName_0='?' (Size = 50), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b.EmployeeWorkPermit].[EmployeeWorkPermitID], [b.EmployeeWorkPermit].[Comment], [b.EmployeeWorkPermit].[DateFrom], [b.EmployeeWorkPermit].[dateInsert], [b.EmployeeWorkPermit].[DateTo], [b.EmployeeWorkPermit].[dateUpdate], [b.EmployeeWorkPermit].[EmployeeID], [b.EmployeeWorkPermit].[EmployeeWorkPermitName], [b.EmployeeWorkPermit].[IsRequired], [b.EmployeeWorkPermit].[SiteID], [b.EmployeeWorkPermit].[state], [b.EmployeeWorkPermit].[userInsert], [b.EmployeeWorkPermit].[UserUpdate]
FROM [BB_HR_EmployeeWorkPermit] AS [b.EmployeeWorkPermit]
INNER JOIN (
    SELECT DISTINCT [t10].*
    FROM (
        SELECT [b3].[EmployeeID]
        FROM [BB_HR_Employee] AS [b3]
        LEFT JOIN [BB_GEN_Organization] AS [b.Organization3] ON [b3].[OrganizationID] = [b.Organization3].[OrganizationID]
        LEFT JOIN [BB_HR_IdentificationType] AS [b.IdentificationType3] ON [b3].[IdentificationTypeID] = [b.IdentificationType3].[IdentificationTypeID]
        LEFT JOIN (
            SELECT [a3].*
            FROM [BB_GEN_Docs] AS [a3]
            WHERE ([a3].[EntityTypeID] = (
                SELECT TOP(1) [item3].[EntityTypeID]
                FROM [BB_GEN_EntityType] AS [item3]
                WHERE [item3].[EntityTypeName] = @__tableName_0
            )) AND ([a3].[DocumentTypeID] = 7)
        ) AS [t9] ON [b3].[EmployeeID] = [t9].[EntityID]
        ORDER BY [b3].[EmployeeID]
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
    ) AS [t10]
) AS [t11] ON [b.EmployeeWorkPermit].[EmployeeID] = [t11].[EmployeeID]
ORDER BY [t11].[EmployeeID]
2019-07-17 12:09:06,047 INFO - Executed action method Malam.Mastpen.API.Controllers.EmployeeController.GetEmployeesAsync (Malam.Mastpen.HR.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3766.2168ms.
2019-07-17 12:09:06,048 INFO - The GetEmployeesAsync have been retrieved successfully.
2019-07-17 12:09:06,063 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.BL.Requests.EmployeeResponse, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 12:09:06,095 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.GetEmployeesAsync (Malam.Mastpen.HR.API) in 4450.8915ms
2019-07-17 12:09:06,114 INFO - Request finished in 4584.5575ms 200 application/json; charset=utf-8
2019-07-17 13:37:43,760 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 13:37:43,760 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 13:37:43,863 INFO - Request finished in 108.0043ms 200 
2019-07-17 13:37:43,887 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:37:44,103 INFO - Request finished in 348.4283ms 200 text/html
2019-07-17 13:37:44,610 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 13:37:44,614 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:37:45,512 INFO - Request finished in 903.8365ms 200 application/json;charset=utf-8
2019-07-17 13:37:55,631 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:37:55,638 INFO - CORS policy execution failed.
2019-07-17 13:37:55,640 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:37:55,643 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:37:55,738 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:37:56,335 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:37:56,345 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:37:57,525 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:37:58,650 INFO - Executed DbCommand (99ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:38:15,239 INFO - Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:38:22,323 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:38:23,475 INFO - Executed DbCommand (981ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:38:28,493 INFO - Executed DbCommand (74ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:38:32,183 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:38:34,144 INFO - Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Docs] ([dateInsert], [dateUpdate], [DocumentDate], [DocumentPath], [DocumentTypeID], [EntityID], [EntityTypeID], [IsDocumentSigned], [LanguageID], [userInsert], [UserUpdate], [ValIdDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT [DocumentID], [state]
FROM [BB_GEN_Docs]
WHERE @@ROWCOUNT = 1 AND [DocumentID] = scope_identity();
2019-07-17 13:38:38,120 INFO - Executed DbCommand (75ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:38:39,615 INFO - Executed DbCommand (75ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:38:42,114 INFO - Executed action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 45767.0018ms.
2019-07-17 13:38:45,072 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:38:45,087 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.SingleResponse`1[[Malam.Mastpen.Core.BL.Requests.EmployeeResponse, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:38:45,109 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 49366.8591ms
2019-07-17 13:38:45,129 INFO - Request finished in 49491.5491ms 200 application/json; charset=utf-8
2019-07-17 13:40:30,885 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 13:40:30,931 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:40:31,170 INFO - Request finished in 287.8727ms 200 text/html
2019-07-17 13:42:41,342 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 13:42:41,342 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 13:42:41,386 INFO - Request finished in 47.9929ms 200 
2019-07-17 13:42:41,404 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:42:41,551 INFO - Request finished in 210.1098ms 200 text/html
2019-07-17 13:42:41,799 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 13:42:41,805 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:42:42,262 INFO - Request finished in 463.4247ms 200 application/json;charset=utf-8
2019-07-17 13:42:55,228 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:42:55,232 INFO - CORS policy execution failed.
2019-07-17 13:42:55,234 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:42:55,236 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:42:55,330 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:42:55,832 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:42:55,840 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:42:57,098 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:42:58,174 INFO - Executed DbCommand (88ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:43:00,625 INFO - Executed DbCommand (72ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:43:00,886 INFO - Executed DbCommand (73ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:43:01,088 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:43:01,185 INFO - Executed DbCommand (115ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:43:01,341 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:43:02,253 INFO - test log
2019-07-17 13:43:02,255 ERROR - There was a critical error on 'PostEmployeeAsync': System.AggregateException: One or more errors occurred. (A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.) ---> System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 120
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
---> (Inner Exception #0) System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110<---

2019-07-17 13:43:02,294 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:43:02,314 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 6977.9775ms
2019-07-17 13:43:02,353 INFO - Request finished in 7106.1347ms 200 application/json; charset=utf-8
2019-07-17 13:43:12,135 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:43:12,137 INFO - CORS policy execution failed.
2019-07-17 13:43:12,139 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:43:12,143 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:43:12,146 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:43:12,148 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:43:12,151 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:43:12,160 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:43:12,246 INFO - Executed DbCommand (71ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:43:15,891 INFO - Executed DbCommand (71ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:43:16,041 INFO - Executed DbCommand (71ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:43:16,122 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:43:16,246 INFO - Executed DbCommand (122ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:43:16,281 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:43:18,176 INFO - test log
2019-07-17 13:43:18,176 ERROR - There was a critical error on 'PostEmployeeAsync': System.AggregateException: One or more errors occurred. (A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.) ---> System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 120
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
---> (Inner Exception #0) System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110<---

2019-07-17 13:43:18,183 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:43:18,187 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 6037.9914ms
2019-07-17 13:43:18,190 INFO - Request finished in 6058.6214ms 200 application/json; charset=utf-8
2019-07-17 13:43:22,167 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:43:22,169 INFO - CORS policy execution failed.
2019-07-17 13:43:22,182 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:43:22,184 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:43:22,186 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:43:22,186 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:43:22,188 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:43:22,190 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:43:22,268 INFO - Executed DbCommand (72ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:43:27,057 INFO - Executed DbCommand (74ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:43:33,560 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:43:33,872 INFO - Executed DbCommand (228ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:43:37,523 INFO - Executed DbCommand (71ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:43:41,686 INFO - Executed DbCommand (71ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:43:43,698 INFO - Executed DbCommand (77ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Docs] ([dateInsert], [dateUpdate], [DocumentDate], [DocumentPath], [DocumentTypeID], [EntityID], [EntityTypeID], [IsDocumentSigned], [LanguageID], [userInsert], [UserUpdate], [ValIdDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT [DocumentID], [state]
FROM [BB_GEN_Docs]
WHERE @@ROWCOUNT = 1 AND [DocumentID] = scope_identity();
2019-07-17 13:43:47,653 INFO - Executed DbCommand (72ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:43:48,874 INFO - Executed DbCommand (71ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:44:52,666 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 13:44:52,666 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 13:44:52,714 INFO - Request finished in 48.9757ms 200 
2019-07-17 13:44:52,736 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:44:52,905 INFO - Request finished in 243.1203ms 200 text/html
2019-07-17 13:44:53,132 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 13:44:53,137 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:44:53,600 INFO - Request finished in 467.44ms 200 application/json;charset=utf-8
2019-07-17 13:45:00,531 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:45:00,535 INFO - CORS policy execution failed.
2019-07-17 13:45:00,539 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:45:00,542 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:45:00,625 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:45:01,109 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:45:01,120 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:45:02,247 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:45:03,344 INFO - Executed DbCommand (95ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:45:05,380 INFO - Executed DbCommand (95ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:45:05,624 INFO - Executed DbCommand (78ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:45:05,841 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:45:05,920 INFO - Executed DbCommand (110ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:45:06,066 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:45:08,153 INFO - test log
2019-07-17 13:45:08,154 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 13:45:08,163 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:45:08,177 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 7548.4235ms
2019-07-17 13:45:08,198 INFO - Request finished in 7664.1094ms 200 application/json; charset=utf-8
2019-07-17 13:45:51,380 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 13:45:51,380 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 13:45:51,443 INFO - Request finished in 69.271ms 200 
2019-07-17 13:45:51,462 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:45:51,604 INFO - Request finished in 243.4742ms 200 text/html
2019-07-17 13:45:51,822 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 13:45:51,828 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:45:52,286 INFO - Request finished in 462.2475ms 200 application/json;charset=utf-8
2019-07-17 13:45:59,786 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:45:59,791 INFO - CORS policy execution failed.
2019-07-17 13:45:59,794 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:45:59,797 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:45:59,886 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:46:00,379 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:46:00,387 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:46:01,504 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:46:02,516 INFO - Executed DbCommand (88ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:46:05,068 INFO - Executed DbCommand (229ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:46:05,418 INFO - Executed DbCommand (94ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:46:10,718 INFO - Executed DbCommand (5,092ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:46:10,780 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:46:11,000 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:46:13,234 INFO - test log
2019-07-17 13:46:13,234 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 13:46:13,245 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:46:13,267 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 13370.2909ms
2019-07-17 13:46:13,285 INFO - Request finished in 13494.5846ms 200 application/json; charset=utf-8
2019-07-17 13:46:15,636 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:46:15,638 INFO - CORS policy execution failed.
2019-07-17 13:46:15,640 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:46:15,641 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:46:15,644 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:46:15,649 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:46:15,652 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:46:15,656 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:46:15,754 INFO - Executed DbCommand (90ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:46:18,922 INFO - Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:46:19,126 INFO - Executed DbCommand (122ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:46:24,155 INFO - Executed DbCommand (4,944ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:46:24,157 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:46:24,320 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:46:25,444 INFO - test log
2019-07-17 13:46:25,444 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 13:46:25,447 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:46:25,449 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 9803.7019ms
2019-07-17 13:46:25,456 INFO - Request finished in 9821.6829ms 200 application/json; charset=utf-8
2019-07-17 13:46:27,596 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:46:27,598 INFO - CORS policy execution failed.
2019-07-17 13:46:27,604 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:46:27,607 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:46:27,609 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:46:27,610 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:46:27,611 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:46:27,614 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:46:27,691 INFO - Executed DbCommand (75ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:46:27,843 INFO - Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:46:27,998 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:46:41,970 INFO - Executed DbCommand (13,893ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:46:41,981 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:46:42,126 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:46:44,055 INFO - test log
2019-07-17 13:46:44,055 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 13:46:44,062 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:46:44,067 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 16453.4515ms
2019-07-17 13:46:44,102 INFO - Request finished in 16473.1783ms 200 application/json; charset=utf-8
2019-07-17 13:46:45,891 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:46:45,893 INFO - CORS policy execution failed.
2019-07-17 13:46:45,894 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:46:45,896 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:46:45,899 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:46:45,900 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:46:45,902 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:46:45,905 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:46:45,985 INFO - Executed DbCommand (79ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:46:46,141 INFO - Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:46:46,299 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:46:51,813 INFO - Executed DbCommand (5,424ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:46:51,819 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:46:51,966 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:46:53,964 INFO - test log
2019-07-17 13:46:53,964 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 13:46:53,971 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:46:53,981 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 8072.1203ms
2019-07-17 13:46:53,986 INFO - Request finished in 8095.1305ms 200 application/json; charset=utf-8
2019-07-17 13:46:55,864 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:46:55,868 INFO - CORS policy execution failed.
2019-07-17 13:46:55,870 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:46:55,872 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:46:55,880 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:46:55,882 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:46:55,885 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:46:55,890 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:46:55,967 INFO - Executed DbCommand (76ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:46:56,120 INFO - Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:46:56,276 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:46:59,639 INFO - Executed DbCommand (3,252ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:47:02,140 INFO - Executed DbCommand (75ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:50:48,880 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 13:50:48,881 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 13:50:48,931 INFO - Request finished in 59.2217ms 200 
2019-07-17 13:50:48,941 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:50:49,146 INFO - Request finished in 279.3361ms 200 text/html
2019-07-17 13:50:49,419 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 13:50:49,435 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:50:49,889 INFO - Request finished in 458.4179ms 200 application/json;charset=utf-8
2019-07-17 13:50:56,951 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:50:56,955 INFO - CORS policy execution failed.
2019-07-17 13:50:56,957 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:50:56,959 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:50:57,040 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:50:57,537 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:50:57,544 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:50:58,633 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:51:00,386 INFO - Executed DbCommand (241ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:51:01,152 INFO - Executed DbCommand (227ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:51:01,687 INFO - Executed DbCommand (246ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:51:03,526 INFO - Executed DbCommand (1,559ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:51:03,590 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:51:03,831 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:51:05,924 INFO - test log
2019-07-17 13:51:05,925 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 13:51:05,936 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:51:05,950 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 8905.5104ms
2019-07-17 13:51:05,970 INFO - Request finished in 9016.6427ms 200 application/json; charset=utf-8
2019-07-17 13:51:08,030 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:51:08,032 INFO - CORS policy execution failed.
2019-07-17 13:51:08,040 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:51:08,047 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:51:08,053 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:51:08,055 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:51:08,062 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:51:08,066 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:51:08,161 INFO - Executed DbCommand (84ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:51:08,344 INFO - Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:51:08,526 INFO - Executed DbCommand (87ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:51:10,174 INFO - Executed DbCommand (1,542ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:51:12,248 INFO - Executed DbCommand (85ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:51:46,910 INFO - Executed DbCommand (84ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:51:52,514 INFO - Executed DbCommand (84ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:52:00,718 INFO - Executed action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 52653.6834ms.
2019-07-17 13:52:03,707 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:52:03,715 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.SingleResponse`1[[Malam.Mastpen.Core.BL.Requests.EmployeeResponse, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:52:03,730 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 55675.6361ms
2019-07-17 13:52:03,744 INFO - Request finished in 55709.1816ms 200 application/json; charset=utf-8
2019-07-17 13:52:09,404 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:52:09,408 INFO - CORS policy execution failed.
2019-07-17 13:52:09,410 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:52:09,412 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:52:09,417 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:52:09,418 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:52:09,421 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:52:09,427 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:52:09,514 INFO - Executed DbCommand (84ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:52:09,685 INFO - Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:52:09,866 INFO - Executed DbCommand (83ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:52:11,617 INFO - Executed DbCommand (1,663ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:52:11,619 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:52:11,762 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:52:22,095 INFO - test log
2019-07-17 13:52:48,615 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 13:52:48,628 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:52:48,632 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 39211.0718ms
2019-07-17 13:52:48,674 INFO - Request finished in 39232.0737ms 200 application/json; charset=utf-8
2019-07-17 13:52:50,947 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:52:50,949 INFO - CORS policy execution failed.
2019-07-17 13:52:50,951 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:52:50,954 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:52:50,956 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:52:50,958 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:52:50,959 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:52:50,962 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:52:51,051 INFO - Executed DbCommand (85ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:52:51,228 INFO - Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:52:51,407 INFO - Executed DbCommand (85ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:52:53,184 INFO - Executed DbCommand (1,689ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:52:53,187 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:52:53,337 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:52:56,711 INFO - test log
2019-07-17 13:52:56,711 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 13:52:56,717 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:52:56,720 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 5760.2502ms
2019-07-17 13:52:56,725 INFO - Request finished in 5779.5285ms 200 application/json; charset=utf-8
2019-07-17 13:52:58,817 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:52:58,820 INFO - CORS policy execution failed.
2019-07-17 13:52:58,825 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:52:58,827 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:52:58,831 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:52:58,832 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:52:58,835 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:52:58,837 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:52:59,037 INFO - Executed DbCommand (198ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:52:59,838 INFO - Executed DbCommand (175ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:53:00,239 INFO - Executed DbCommand (176ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:53:07,103 INFO - Executed DbCommand (6,657ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:53:07,105 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:53:07,243 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:53:08,354 INFO - test log
2019-07-17 13:53:08,354 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 13:53:08,357 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:53:08,361 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 9525.937ms
2019-07-17 13:53:08,363 INFO - Request finished in 9547.4733ms 200 application/json; charset=utf-8
2019-07-17 13:53:10,264 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:53:10,266 INFO - CORS policy execution failed.
2019-07-17 13:53:10,267 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:53:10,269 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:53:10,273 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:53:10,273 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:53:10,275 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:53:10,277 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:53:10,363 INFO - Executed DbCommand (83ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:53:10,531 INFO - Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:53:10,705 INFO - Executed DbCommand (83ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:53:16,650 INFO - Executed DbCommand (5,856ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:53:19,426 INFO - Executed DbCommand (84ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:54:06,457 INFO - Executed DbCommand (87ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:54:10,517 INFO - Executed DbCommand (134ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:54:17,009 INFO - Executed action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 66727.4891ms.
2019-07-17 13:54:17,010 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:54:17,011 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.SingleResponse`1[[Malam.Mastpen.Core.BL.Requests.EmployeeResponse, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:54:17,013 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 66738.5646ms
2019-07-17 13:54:17,015 INFO - Request finished in 66750.6322ms 200 application/json; charset=utf-8
2019-07-17 13:54:23,352 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:54:23,354 INFO - CORS policy execution failed.
2019-07-17 13:54:23,356 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:54:23,359 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:54:23,361 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:54:23,362 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:54:23,363 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:54:23,376 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:54:23,461 INFO - Executed DbCommand (83ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:54:23,629 INFO - Executed DbCommand (83ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:54:23,813 INFO - Executed DbCommand (83ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:54:28,041 INFO - Executed DbCommand (1,697ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:54:28,045 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:54:30,282 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:54:37,173 INFO - test log
2019-07-17 13:54:37,173 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 13:54:37,176 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:54:37,181 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 13815.5891ms
2019-07-17 13:54:37,184 INFO - Request finished in 13830.5526ms 200 application/json; charset=utf-8
2019-07-17 13:54:39,400 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:54:39,404 INFO - CORS policy execution failed.
2019-07-17 13:54:39,405 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:54:39,407 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:54:39,409 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:54:39,410 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:54:39,413 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:54:39,416 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:54:39,502 INFO - Executed DbCommand (83ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:54:39,676 INFO - Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:54:39,858 INFO - Executed DbCommand (83ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:54:58,824 INFO - Executed DbCommand (18,877ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:54:58,830 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:55:01,062 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:56:00,665 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 13:56:00,666 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 13:56:00,713 INFO - Request finished in 71.3717ms 200 
2019-07-17 13:56:00,734 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:56:00,858 INFO - Request finished in 220.984ms 200 text/html
2019-07-17 13:56:01,060 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 13:56:01,064 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:56:01,453 INFO - Request finished in 395.3921ms 200 application/json;charset=utf-8
2019-07-17 13:56:06,935 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:56:06,939 INFO - CORS policy execution failed.
2019-07-17 13:56:06,941 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:56:06,943 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:56:07,031 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:56:07,518 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:56:07,528 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:56:08,645 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:56:09,721 INFO - Executed DbCommand (88ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:56:10,210 INFO - Executed DbCommand (73ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:56:10,459 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:56:15,956 INFO - Executed DbCommand (5,354ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:56:16,021 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:56:17,404 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:56:18,610 INFO - test log
2019-07-17 13:56:20,134 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 13:56:20,144 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:56:20,163 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 13126.0833ms
2019-07-17 13:56:20,181 INFO - Request finished in 13240.87ms 200 application/json; charset=utf-8
2019-07-17 13:56:22,618 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:56:22,622 INFO - CORS policy execution failed.
2019-07-17 13:56:22,625 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:56:22,628 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:56:22,633 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:56:22,636 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:56:22,643 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:56:22,652 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:56:22,732 INFO - Executed DbCommand (72ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:56:22,878 INFO - Executed DbCommand (72ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:56:23,029 INFO - Executed DbCommand (71ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:56:26,523 INFO - Executed DbCommand (3,394ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:56:32,104 INFO - Executed DbCommand (74ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 13:57:27,874 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 13:57:27,874 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 13:57:27,912 INFO - Request finished in 46.4465ms 200 
2019-07-17 13:57:27,932 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:57:28,071 INFO - Request finished in 200.1997ms 200 text/html
2019-07-17 13:57:28,269 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 13:57:28,278 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:57:28,678 INFO - Request finished in 408.361ms 200 application/json;charset=utf-8
2019-07-17 13:57:34,729 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:57:34,733 INFO - CORS policy execution failed.
2019-07-17 13:57:34,735 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:57:34,737 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:57:34,822 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:57:35,314 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:57:35,322 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:57:36,496 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:57:37,531 INFO - Executed DbCommand (85ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:57:38,020 INFO - Executed DbCommand (71ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:57:38,279 INFO - Executed DbCommand (71ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:57:38,517 INFO - Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:57:38,541 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:57:38,753 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:57:50,840 INFO - test log
2019-07-17 13:57:50,843 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 13:57:50,853 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:57:50,877 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 16048.8516ms
2019-07-17 13:57:50,906 INFO - Request finished in 16165.1555ms 200 application/json; charset=utf-8
2019-07-17 13:57:53,518 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:57:53,524 INFO - CORS policy execution failed.
2019-07-17 13:57:53,528 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:57:53,531 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:57:53,535 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:57:53,537 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:57:53,540 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:57:53,548 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:57:53,628 INFO - Executed DbCommand (71ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:57:53,774 INFO - Executed DbCommand (71ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:57:53,928 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:57:57,170 INFO - Executed DbCommand (3,164ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 13:57:57,176 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:58:01,884 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 13:58:03,721 INFO - test log
2019-07-17 13:58:03,721 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 13:58:03,727 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 13:58:03,732 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 10192.809ms
2019-07-17 13:58:03,744 INFO - Request finished in 10216.2549ms 200 application/json; charset=utf-8
2019-07-17 13:58:05,936 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:58:05,938 INFO - CORS policy execution failed.
2019-07-17 13:58:05,939 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:58:05,945 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:58:05,948 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:58:05,949 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:58:05,951 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:58:05,954 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:58:06,028 INFO - Executed DbCommand (72ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:58:06,173 INFO - Executed DbCommand (72ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:58:06,322 INFO - Executed DbCommand (71ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:59:05,896 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 13:59:05,896 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 13:59:05,947 INFO - Request finished in 56.2402ms 200 
2019-07-17 13:59:05,971 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:59:06,096 INFO - Request finished in 206.0874ms 200 text/html
2019-07-17 13:59:06,296 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 13:59:06,300 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:59:06,700 INFO - Request finished in 404.2428ms 200 application/json;charset=utf-8
2019-07-17 13:59:17,147 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 13:59:17,152 INFO - CORS policy execution failed.
2019-07-17 13:59:17,153 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 13:59:17,156 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 13:59:17,251 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 13:59:17,743 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 13:59:17,750 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 13:59:18,866 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 13:59:19,917 INFO - Executed DbCommand (92ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 13:59:20,426 INFO - Executed DbCommand (79ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 13:59:20,808 INFO - Executed DbCommand (195ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 13:59:21,119 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 13:59:31,645 INFO - Executed DbCommand (10,568ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:01:46,376 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 14:01:46,377 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 14:01:46,417 INFO - Request finished in 45.3775ms 200 
2019-07-17 14:01:46,438 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:01:46,582 INFO - Request finished in 209.4308ms 200 text/html
2019-07-17 14:01:46,798 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 14:01:46,804 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:01:47,213 INFO - Request finished in 416.2504ms 200 application/json;charset=utf-8
2019-07-17 14:01:53,527 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:01:53,533 INFO - CORS policy execution failed.
2019-07-17 14:01:53,535 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:01:53,541 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:01:53,629 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:01:54,125 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:01:54,139 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:01:55,313 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:01:56,394 INFO - Executed DbCommand (91ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:01:56,891 INFO - Executed DbCommand (78ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:01:57,144 INFO - Executed DbCommand (77ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:01:57,357 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 14:02:12,162 INFO - Executed DbCommand (136ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:02:18,126 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:02:21,157 INFO - test log
2019-07-17 14:02:21,157 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 111
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 14:02:21,170 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:02:21,187 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 27554.684ms
2019-07-17 14:02:21,205 INFO - Request finished in 27679.0953ms 200 application/json; charset=utf-8
2019-07-17 14:03:00,092 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:03:00,093 INFO - CORS policy execution failed.
2019-07-17 14:03:00,095 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:03:00,099 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:03:00,101 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:03:00,103 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:03:00,105 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:03:00,122 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:03:00,208 INFO - Executed DbCommand (77ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:03:00,364 INFO - Executed DbCommand (77ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:03:00,529 INFO - Executed DbCommand (77ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:03:00,610 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 14:08:20,695 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 14:08:20,695 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 14:08:20,742 INFO - Request finished in 48.6955ms 200 
2019-07-17 14:08:20,762 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:08:20,917 INFO - Request finished in 228.1033ms 200 text/html
2019-07-17 14:08:21,180 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 14:08:21,184 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:08:21,592 INFO - Request finished in 404.0391ms 200 application/json;charset=utf-8
2019-07-17 14:09:01,031 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:09:01,034 INFO - CORS policy execution failed.
2019-07-17 14:09:01,041 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:09:01,043 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:09:01,139 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:09:01,649 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:09:01,658 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:09:02,794 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:09:03,852 INFO - Executed DbCommand (89ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:09:04,342 INFO - Executed DbCommand (72ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:09:04,607 INFO - Executed DbCommand (72ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:09:12,738 INFO - Executed DbCommand (7,990ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:09:56,145 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 14:09:56,145 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 14:09:56,212 INFO - Request finished in 63.0774ms 200 
2019-07-17 14:09:56,227 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:09:56,367 INFO - Request finished in 227.3714ms 200 text/html
2019-07-17 14:09:56,579 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 14:09:56,586 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:09:56,990 INFO - Request finished in 412.251ms 200 application/json;charset=utf-8
2019-07-17 14:10:02,709 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:10:02,714 INFO - CORS policy execution failed.
2019-07-17 14:10:02,715 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:10:02,718 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:10:02,803 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:10:03,287 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:10:03,295 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:10:04,453 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:10:05,444 INFO - Executed DbCommand (89ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:10:05,950 INFO - Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:10:06,193 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:10:08,365 INFO - Executed DbCommand (2,031ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:10:08,427 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 14:10:08,610 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:10:17,339 INFO - test log
2019-07-17 14:10:17,339 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 14:10:17,369 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:10:17,387 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 14577.5369ms
2019-07-17 14:10:17,404 INFO - Request finished in 14694.288ms 200 application/json; charset=utf-8
2019-07-17 14:10:21,340 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:10:21,342 INFO - CORS policy execution failed.
2019-07-17 14:10:21,344 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:10:21,346 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:10:21,352 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:10:21,354 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:10:21,356 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:10:21,361 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:10:21,446 INFO - Executed DbCommand (75ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:10:21,602 INFO - Executed DbCommand (74ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:10:21,757 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:10:26,492 INFO - Executed DbCommand (4,620ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:10:30,757 INFO - Executed DbCommand (2,454ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:11:28,588 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 14:11:28,588 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 14:11:28,649 INFO - Request finished in 64.2891ms 200 
2019-07-17 14:11:28,664 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:11:28,824 INFO - Request finished in 245.6289ms 200 text/html
2019-07-17 14:11:29,046 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 14:11:29,053 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:11:29,651 INFO - Request finished in 604.9894ms 200 application/json;charset=utf-8
2019-07-17 14:11:35,576 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:11:35,581 INFO - CORS policy execution failed.
2019-07-17 14:11:35,584 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:11:35,590 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:11:35,670 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:11:36,162 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:11:36,172 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:11:37,332 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:11:38,338 INFO - Executed DbCommand (90ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:11:38,837 INFO - Executed DbCommand (70ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:11:39,079 INFO - Executed DbCommand (69ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:11:40,632 INFO - Executed DbCommand (1,387ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:11:41,677 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2019-07-17 14:11:46,131 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:11:47,410 INFO - test log
2019-07-17 14:11:50,460 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 14:11:50,501 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:11:50,518 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 14844.4182ms
2019-07-17 14:11:50,535 INFO - Request finished in 14954.8637ms 200 application/json; charset=utf-8
2019-07-17 14:11:56,936 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:11:56,938 INFO - CORS policy execution failed.
2019-07-17 14:11:56,940 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:11:56,947 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:11:56,950 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:11:56,953 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:11:56,956 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:11:56,961 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:11:57,043 INFO - Executed DbCommand (70ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:11:57,190 INFO - Executed DbCommand (69ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:11:57,342 INFO - Executed DbCommand (69ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:11:59,763 INFO - Executed DbCommand (2,334ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:12:00,885 INFO - Executed DbCommand (69ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:13:23,688 INFO - Executed DbCommand (70ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:13:34,276 INFO - Executed DbCommand (70ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:13:35,642 INFO - Executed action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 98683.1485ms.
2019-07-17 14:13:35,642 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:13:35,647 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.SingleResponse`1[[Malam.Mastpen.Core.BL.Requests.EmployeeResponse, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:13:35,667 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 98714.2409ms
2019-07-17 14:13:35,673 INFO - Request finished in 98734.7378ms 200 application/json; charset=utf-8
2019-07-17 14:13:39,235 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:13:39,237 INFO - CORS policy execution failed.
2019-07-17 14:13:39,239 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:13:39,241 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:13:39,243 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:13:39,244 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:13:39,250 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:13:39,252 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:13:39,325 INFO - Executed DbCommand (70ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:13:39,467 INFO - Executed DbCommand (70ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:13:39,613 INFO - Executed DbCommand (69ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:13:44,763 INFO - Executed DbCommand (2,110ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:13:44,767 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2019-07-17 14:13:44,876 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:13:47,178 INFO - test log
2019-07-17 14:13:47,178 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 14:13:47,184 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:13:47,188 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 7940.3332ms
2019-07-17 14:13:47,201 INFO - Request finished in 7965.287ms 200 application/json; charset=utf-8
2019-07-17 14:17:16,562 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 14:17:16,562 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 14:17:16,607 INFO - Request finished in 46.8175ms 200 
2019-07-17 14:17:16,624 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:17:16,748 INFO - Request finished in 191.2004ms 200 text/html
2019-07-17 14:17:16,947 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 14:17:16,954 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:17:17,363 INFO - Request finished in 415.8131ms 200 application/json;charset=utf-8
2019-07-17 14:22:01,162 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:22:01,167 INFO - CORS policy execution failed.
2019-07-17 14:22:01,168 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:22:01,170 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:22:01,262 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:22:01,752 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:22:01,764 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:22:02,875 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:22:03,872 INFO - Executed DbCommand (89ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:22:04,422 INFO - Executed DbCommand (76ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:22:04,683 INFO - Executed DbCommand (75ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:22:04,948 INFO - Executed DbCommand (76ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:22:04,962 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2019-07-17 14:22:05,103 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:22:27,215 INFO - test log
2019-07-17 14:22:27,215 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 14:22:27,252 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:22:27,273 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 26008.028ms
2019-07-17 14:22:27,291 INFO - Request finished in 26125.0796ms 200 application/json; charset=utf-8
2019-07-17 14:22:30,130 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:22:30,134 INFO - CORS policy execution failed.
2019-07-17 14:22:30,136 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:22:30,141 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:22:30,147 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:22:30,150 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:22:30,154 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:22:30,160 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:22:30,251 INFO - Executed DbCommand (78ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:22:30,405 INFO - Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:22:30,569 INFO - Executed DbCommand (75ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:22:32,642 INFO - Executed DbCommand (1,954ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:22:32,646 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2019-07-17 14:22:47,172 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:22:49,009 INFO - test log
2019-07-17 14:22:49,009 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.GetDocsAsync(Int32 EntityTypeId, Int32 EntityId, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 110
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 14:22:49,013 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:22:49,021 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 18866.7109ms
2019-07-17 14:22:49,029 INFO - Request finished in 18898.9388ms 200 application/json; charset=utf-8
2019-07-17 14:22:51,279 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:22:51,281 INFO - CORS policy execution failed.
2019-07-17 14:22:51,286 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:22:51,290 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:22:51,292 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:22:51,293 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:22:51,299 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:22:51,309 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:22:51,386 INFO - Executed DbCommand (75ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:22:51,541 INFO - Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:22:51,697 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:22:59,555 INFO - Executed DbCommand (7,763ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:23:02,820 INFO - Executed DbCommand (916ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:23:23,536 INFO - Executed DbCommand (75ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:23:30,217 INFO - Executed DbCommand (75ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:25:42,863 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 14:25:42,863 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 14:25:42,904 INFO - Request finished in 46.0142ms 200 
2019-07-17 14:25:42,926 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:25:43,053 INFO - Request finished in 194.5165ms 200 text/html
2019-07-17 14:25:43,286 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 14:25:43,291 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:25:43,669 INFO - Request finished in 382.8098ms 200 application/json;charset=utf-8
2019-07-17 14:25:59,909 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:25:59,914 INFO - CORS policy execution failed.
2019-07-17 14:25:59,916 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:25:59,919 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:26:00,020 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:26:00,501 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:26:00,511 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:26:01,631 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:26:02,643 INFO - Executed DbCommand (92ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:26:03,138 INFO - Executed DbCommand (78ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:26:03,402 INFO - Executed DbCommand (78ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:26:03,614 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 14:26:03,697 INFO - Executed DbCommand (135ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:26:03,798 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:28:49,980 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 14:28:49,980 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 14:28:50,020 INFO - Request finished in 45.8972ms 200 
2019-07-17 14:28:50,048 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:28:50,211 INFO - Request finished in 236.0007ms 200 text/html
2019-07-17 14:28:50,438 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 14:28:50,455 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:28:50,907 INFO - Request finished in 460.0834ms 200 application/json;charset=utf-8
2019-07-17 14:29:02,472 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:29:02,477 INFO - CORS policy execution failed.
2019-07-17 14:29:02,478 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:29:02,480 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:29:02,568 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:29:02,869 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:29:02,878 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:29:04,011 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:29:05,031 INFO - Executed DbCommand (84ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:29:05,531 INFO - Executed DbCommand (70ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:29:05,779 INFO - Executed DbCommand (69ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:29:05,993 INFO - Executed DbCommand (72ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:29:05,994 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 14:29:06,161 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:29:16,705 INFO - test log
2019-07-17 14:29:16,707 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 117
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 14:29:16,737 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:29:16,752 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 14179.7377ms
2019-07-17 14:29:16,774 INFO - Request finished in 14297.6415ms 200 application/json; charset=utf-8
2019-07-17 14:29:18,984 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:29:18,994 INFO - CORS policy execution failed.
2019-07-17 14:29:18,998 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:29:19,008 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:29:19,014 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:29:19,017 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:29:19,038 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:29:19,053 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:29:19,138 INFO - Executed DbCommand (69ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:29:19,313 INFO - Executed DbCommand (71ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:29:19,461 INFO - Executed DbCommand (68ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:29:29,359 INFO - Executed DbCommand (9,804ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:29:32,912 INFO - Executed DbCommand (1,338ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:31:21,687 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 14:31:21,687 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 14:31:21,735 INFO - Request finished in 57.7204ms 200 
2019-07-17 14:31:21,752 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:31:21,898 INFO - Request finished in 227.4ms 200 text/html
2019-07-17 14:31:22,131 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 14:31:22,142 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:31:22,634 INFO - Request finished in 505.6401ms 200 application/json;charset=utf-8
2019-07-17 14:31:36,364 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:31:36,370 INFO - CORS policy execution failed.
2019-07-17 14:31:36,376 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:31:36,381 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:31:36,471 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:31:36,945 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:31:36,955 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:31:38,067 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:31:39,182 INFO - Executed DbCommand (124ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:31:39,708 INFO - Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:31:39,952 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:31:40,152 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 14:31:41,987 INFO - Executed DbCommand (132ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:31:43,845 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:31:44,862 INFO - test log
2019-07-17 14:31:47,498 ERROR - There was a critical error on 'PostEmployeeAsync': System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
   at Malam.Mastpen.Core.DAL.MastpenDbContextQueries.GetDocsAsync(MastpenBitachonDbContext dbContext, Docs entity) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\DAL\MastpenDbContextQueries.cs:line 144
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 119
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync(EmployeeRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 156
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-07-17 14:31:47,529 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:31:47,550 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 11074.6822ms
2019-07-17 14:31:47,567 INFO - Request finished in 11198.2988ms 200 application/json; charset=utf-8
2019-07-17 14:31:49,857 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:31:49,860 INFO - CORS policy execution failed.
2019-07-17 14:31:49,862 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:31:49,864 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:31:49,871 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:31:49,874 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:31:49,880 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:31:49,891 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:31:49,998 INFO - Executed DbCommand (100ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:31:50,171 INFO - Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:31:50,328 INFO - Executed DbCommand (75ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:31:50,428 ERROR - An exception occurred while iterating over the results of a query for context type 'Malam.Mastpen.Core.DAL.MastpenBitachonDbContext'.
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Internal.ConcurrencyDetector.EnterCriticalSectionAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteSingletonAsyncQuery[TResult](QueryContext queryContext, Func`2 compiledQuery, IDiagnosticsLogger`1 logger, Type contextType)
2019-07-17 14:33:21,975 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 14:33:21,975 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 14:33:22,017 INFO - Request finished in 47.3404ms 200 
2019-07-17 14:33:22,043 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:33:22,186 INFO - Request finished in 216.9591ms 200 text/html
2019-07-17 14:33:22,425 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 14:33:22,436 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:33:22,851 INFO - Request finished in 434.0492ms 200 application/json;charset=utf-8
2019-07-17 14:33:29,017 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:33:29,022 INFO - CORS policy execution failed.
2019-07-17 14:33:29,023 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:33:29,026 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:33:29,115 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:33:29,431 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:33:29,440 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:33:30,585 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:33:31,771 INFO - Executed DbCommand (237ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:33:32,385 INFO - Executed DbCommand (109ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:33:35,143 INFO - Executed DbCommand (2,574ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:33:42,074 INFO - Executed DbCommand (115ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:33:42,234 INFO - Executed DbCommand (155ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:33:42,240 INFO - Executed action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12796.9363ms.
2019-07-17 14:33:42,241 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:33:42,254 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.SingleResponse`1[[Malam.Mastpen.Core.BL.Requests.EmployeeResponse, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:33:42,292 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 13172.9447ms
2019-07-17 14:33:42,307 INFO - Request finished in 13288.4138ms 200 application/json; charset=utf-8
2019-07-17 14:33:44,513 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:33:44,519 INFO - CORS policy execution failed.
2019-07-17 14:33:44,522 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:33:44,529 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:33:44,531 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:33:44,533 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:33:44,535 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:33:44,546 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:33:44,622 INFO - Executed DbCommand (72ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:33:44,770 INFO - Executed DbCommand (72ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:33:44,924 INFO - Executed DbCommand (74ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:33:44,998 INFO - Executed DbCommand (72ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:33:45,072 INFO - Executed DbCommand (72ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:33:45,073 INFO - Executed action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 536.3711ms.
2019-07-17 14:33:45,073 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:33:45,075 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.SingleResponse`1[[Malam.Mastpen.Core.BL.Requests.EmployeeResponse, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:33:45,081 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 544.2944ms
2019-07-17 14:33:45,090 INFO - Request finished in 583.0712ms 200 application/json; charset=utf-8
2019-07-17 14:33:51,729 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:33:51,734 INFO - CORS policy execution failed.
2019-07-17 14:33:51,740 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:33:51,745 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:33:51,748 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:33:51,753 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:33:51,767 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:33:51,771 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:33:51,860 INFO - Executed DbCommand (88ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:33:52,011 INFO - Executed DbCommand (72ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:33:52,276 INFO - Executed DbCommand (113ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:33:52,412 INFO - Executed DbCommand (134ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:33:52,560 INFO - Executed DbCommand (146ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:33:52,564 INFO - Executed action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 793.3863ms.
2019-07-17 14:33:52,564 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:33:52,566 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.SingleResponse`1[[Malam.Mastpen.Core.BL.Requests.EmployeeResponse, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:33:52,567 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 817.6891ms
2019-07-17 14:33:52,581 INFO - Request finished in 842.8224ms 200 application/json; charset=utf-8
2019-07-17 14:35:05,570 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 14:35:05,570 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 14:35:05,629 INFO - Request finished in 76.9644ms 200 
2019-07-17 14:35:05,641 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:35:05,787 INFO - Request finished in 246.6699ms 200 text/html
2019-07-17 14:35:06,011 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 14:35:06,017 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:35:06,497 INFO - Request finished in 484.1633ms 200 application/json;charset=utf-8
2019-07-17 14:35:24,783 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:35:24,789 INFO - CORS policy execution failed.
2019-07-17 14:35:24,794 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:35:24,798 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:35:24,881 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:35:25,396 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:35:25,406 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:35:26,567 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:35:27,552 INFO - Executed DbCommand (93ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:35:28,051 INFO - Executed DbCommand (79ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:35:28,326 INFO - Executed DbCommand (85ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:35:28,600 INFO - Executed DbCommand (97ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:35:28,799 INFO - Executed DbCommand (76ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:35:28,889 INFO - Executed DbCommand (76ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:35:28,970 INFO - Executed DbCommand (77ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:35:28,975 INFO - Executed action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3566.3171ms.
2019-07-17 14:35:28,977 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:35:28,989 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.SingleResponse`1[[Malam.Mastpen.Core.BL.Requests.EmployeeResponse, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:35:29,019 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 4131.8499ms
2019-07-17 14:35:29,039 INFO - Request finished in 4256.5181ms 200 application/json; charset=utf-8
2019-07-17 14:36:12,495 INFO - Request starting HTTP/1.1 GET http://localhost:59821/index.html  
2019-07-17 14:36:12,496 INFO - Request starting HTTP/1.1 DEBUG http://localhost:59821/  0
2019-07-17 14:36:12,557 INFO - Request finished in 62.683ms 200 
2019-07-17 14:36:12,583 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:36:12,720 INFO - Request finished in 230.0269ms 200 text/html
2019-07-17 14:36:12,946 INFO - Request starting HTTP/1.1 GET http://localhost:59821/swagger/v1/swagger.json  
2019-07-17 14:36:12,959 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:36:13,451 INFO - Request finished in 472.6505ms 200 application/json;charset=utf-8
2019-07-17 14:36:24,490 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Employee application/json-patch+json 784
2019-07-17 14:36:24,496 INFO - CORS policy execution failed.
2019-07-17 14:36:24,502 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-07-17 14:36:24,506 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-07-17 14:36:24,607 INFO - Route matched with {action = "PostEmployeeAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API)
2019-07-17 14:36:25,091 INFO - 'PostEmployeeAsync' has been invoked
2019-07-17 14:36:25,099 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.EmployeeRequest) - Validation state: Valid
2019-07-17 14:36:26,232 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-07-17 14:36:27,309 INFO - Executed DbCommand (89ms) [Parameters=[@__entity_EmployeeId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EmployeeID], [item].[Address], [item].[BirthDate], [item].[Citizenship], [item].[dateInsert], [item].[dateUpdate], [item].[FirstName], [item].[FirstNameEN], [item].[GenderID], [item].[IdentificationTypeID], [item].[IdentityNumber], [item].[LastName], [item].[LastNameEN], [item].[OrganizationID], [item].[PassportCountryID], [item].[state], [item].[userInsert], [item].[UserUpdate]
FROM [BB_HR_Employee] AS [item]
WHERE [item].[EmployeeID] = @__entity_EmployeeId_0
2019-07-17 14:36:27,803 INFO - Executed DbCommand (78ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (Size = 50), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_HR_Employee] ([Address], [BirthDate], [Citizenship], [dateInsert], [dateUpdate], [FirstName], [FirstNameEN], [GenderID], [IdentityNumber], [LastName], [LastNameEN], [OrganizationID], [PassportCountryID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
SELECT [EmployeeID], [IdentificationTypeID], [state]
FROM [BB_HR_Employee]
WHERE @@ROWCOUNT = 1 AND [EmployeeID] = scope_identity();
2019-07-17 14:36:28,053 INFO - Executed DbCommand (74ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-07-17 14:36:28,439 INFO - Executed DbCommand (237ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_PhoneMail] ([dateInsert], [dateUpdate], [EMail], [EntityID], [EntityTypeID], [PhoneNumber], [PhoneTypeID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ContactID], [state]
FROM [BB_GEN_PhoneMail]
WHERE @@ROWCOUNT = 1 AND [ContactID] = scope_identity();
2019-07-17 14:36:28,639 INFO - Executed DbCommand (74ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:36:28,744 INFO - Executed DbCommand (84ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:36:28,824 INFO - Executed DbCommand (77ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-07-17 14:36:28,829 INFO - Executed action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3727.4739ms.
2019-07-17 14:36:28,831 INFO - The PostEmployeeAsync have been retrieved successfully.
2019-07-17 14:36:28,846 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.SingleResponse`1[[Malam.Mastpen.Core.BL.Requests.EmployeeResponse, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-17 14:36:28,871 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeAsync (Malam.Mastpen.HR.API) in 4260.5766ms
2019-07-17 14:36:28,890 INFO - Request finished in 4400.0487ms 200 application/json; charset=utf-8
