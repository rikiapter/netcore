2019-08-18 07:08:14,646 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Notes application/json-patch+json 228
2019-08-18 07:08:15,300 INFO - CORS policy execution failed.
2019-08-18 07:08:15,302 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-08-18 07:08:22,621 INFO - Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2019-08-18 07:08:22,692 INFO - BearerIdentityServerAuthenticationJwt was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
2019-08-18 07:08:22,707 INFO - Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
2019-08-18 07:08:23,866 INFO - Route matched with {action = "PostEmployeeNoteAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API)
2019-08-18 07:08:23,938 INFO - Authorization failed.
2019-08-18 07:08:23,945 INFO - Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-08-18 07:08:23,947 INFO - Executing ChallengeResult with authentication schemes ().
2019-08-18 07:08:23,983 INFO - AuthenticationScheme: BearerIdentityServerAuthenticationJwt was challenged.
2019-08-18 07:08:23,984 INFO - AuthenticationScheme: Bearer was challenged.
2019-08-18 07:08:23,986 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API) in 118.2212ms
2019-08-18 07:08:24,010 INFO - Request finished in 9563.89ms 401 
2019-08-18 07:08:24,012 INFO - Connection id "0HLP1COQERN37", Request id "0HLP1COQERN37:00000001": the application completed without reading the entire request body.
2019-08-18 07:08:39,457 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Notes application/json-patch+json 228
2019-08-18 07:08:39,460 INFO - CORS policy execution failed.
2019-08-18 07:08:39,470 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-08-18 07:08:39,475 INFO - Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2019-08-18 07:08:39,482 INFO - BearerIdentityServerAuthenticationJwt was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
2019-08-18 07:08:39,483 INFO - Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
2019-08-18 07:08:39,486 INFO - Route matched with {action = "PostEmployeeNoteAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API)
2019-08-18 07:08:39,488 INFO - Authorization failed.
2019-08-18 07:08:39,489 INFO - Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-08-18 07:08:39,491 INFO - Executing ChallengeResult with authentication schemes ().
2019-08-18 07:08:39,493 INFO - AuthenticationScheme: BearerIdentityServerAuthenticationJwt was challenged.
2019-08-18 07:08:39,500 INFO - AuthenticationScheme: Bearer was challenged.
2019-08-18 07:08:39,502 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API) in 13.492ms
2019-08-18 07:08:39,505 INFO - Request finished in 47.4327ms 401 
2019-08-18 07:08:39,523 INFO - Connection id "0HLP1COQERN37", Request id "0HLP1COQERN37:00000002": the application completed without reading the entire request body.
2019-08-18 07:09:55,193 INFO - Request starting HTTP/1.1 GET http://localhost:59821/oauth2-redirect.html  
2019-08-18 07:09:55,199 DEBUG - AuthenticationScheme: Bearer was not authenticated.
2019-08-18 07:09:55,453 INFO - The file /oauth2-redirect.html was not modified
2019-08-18 07:09:55,535 INFO - Request finished in 333.8866ms 304 text/html
2019-08-18 07:09:59,730 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Notes application/json-patch+json 228
2019-08-18 07:09:59,732 INFO - CORS policy execution failed.
2019-08-18 07:09:59,733 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-08-18 07:09:59,811 INFO - Successfully validated the token.
2019-08-18 07:09:59,812 DEBUG - AuthenticationScheme: Bearer was successfully authenticated.
2019-08-18 07:09:59,814 INFO - Route matched with {action = "PostEmployeeNoteAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API)
2019-08-18 07:09:59,816 INFO - Authorization was successful.
2019-08-18 07:10:00,410 INFO - 'PostEmployeeNoteAsync' has been invoked
2019-08-18 07:10:00,428 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.NoteRequest) - Validation state: Valid
2019-08-18 07:10:09,749 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-18 07:10:10,632 INFO - Executed DbCommand (91ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Notes] ([dateInsert], [dateUpdate], [EntityID], [EntityTypeID], [NoteContent], [NoteTypeID], [SiteID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [NoteID], [state]
FROM [BB_GEN_Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2019-08-18 07:10:14,360 INFO - Executed DbCommand (74ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-08-18 07:10:16,462 INFO - The PostEmployeeNoteAsync have been retrieved successfully.
2019-08-18 07:10:16,476 INFO - test log
2019-08-18 07:10:16,615 ERROR - There was a critical error on 'PostEmployeeNoteAsync':   System.AggregateException: One or more errors occurred. (The format of value 'image' is invalid.) ---> Microsoft.WindowsAzure.Storage.StorageException: The format of value 'image' is invalid. ---> System.FormatException: The format of value 'image' is invalid.
   at System.Net.Http.Headers.HttpHeaderParser.ParseValue(String value, Object storeValue, Int32& index)
   at System.Net.Http.Headers.MediaTypeHeaderValue.Parse(String input)
   at Microsoft.WindowsAzure.Storage.Blob.Protocol.BlobHttpRequestMessageFactory.Put(Uri uri, Nullable`1 timeout, BlobProperties properties, BlobType blobType, Int64 pageBlobSize, Nullable`1 pageBlobTier, AccessCondition accessCondition, HttpContent content, OperationContext operationContext, ICanonicalizer canonicalizer, StorageCredentials credentials) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Blob\Protocol\BlobHttpRequestMessageFactory.cs:line 89
   at Microsoft.WindowsAzure.Storage.Blob.CloudBlockBlob.<>c__DisplayClass83_0.<PutBlobImpl>b__1(RESTCommand`1 cmd, Uri uri, UriQueryBuilder builder, HttpContent cnt, Nullable`1 serverTimeout, OperationContext ctx) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Blob\CloudBlockBlob.cs:line 1436
   at Microsoft.WindowsAzure.Storage.Core.Executor.Executor.ExecuteAsyncInternal[T](RESTCommand`1 cmd, IRetryPolicy policy, OperationContext operationContext, CancellationToken token) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Core\Executor\Executor.cs:line 91
   --- End of inner exception stack trace ---
   at Malam.Mastpen.Core.BL.Services.BlobStorageService.UploadFileToBlobAsync(String strFileName, Byte[] fileData, String fileMimeType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\BlobStorageService.cs:line 98
   --- End of inner exception stack trace ---
   at Malam.Mastpen.Core.BL.Services.BlobStorageService.UploadFileToBlob(String strFileName, FileRequest fileRequest) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\BlobStorageService.cs:line 40
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 155
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync(NoteRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 561
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
---> (Inner Exception #0) Microsoft.WindowsAzure.Storage.StorageException: The format of value 'image' is invalid. ---> System.FormatException: The format of value 'image' is invalid.
   at System.Net.Http.Headers.HttpHeaderParser.ParseValue(String value, Object storeValue, Int32& index)
   at System.Net.Http.Headers.MediaTypeHeaderValue.Parse(String input)
   at Microsoft.WindowsAzure.Storage.Blob.Protocol.BlobHttpRequestMessageFactory.Put(Uri uri, Nullable`1 timeout, BlobProperties properties, BlobType blobType, Int64 pageBlobSize, Nullable`1 pageBlobTier, AccessCondition accessCondition, HttpContent content, OperationContext operationContext, ICanonicalizer canonicalizer, StorageCredentials credentials) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Blob\Protocol\BlobHttpRequestMessageFactory.cs:line 89
   at Microsoft.WindowsAzure.Storage.Blob.CloudBlockBlob.<>c__DisplayClass83_0.<PutBlobImpl>b__1(RESTCommand`1 cmd, Uri uri, UriQueryBuilder builder, HttpContent cnt, Nullable`1 serverTimeout, OperationContext ctx) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Blob\CloudBlockBlob.cs:line 1436
   at Microsoft.WindowsAzure.Storage.Core.Executor.Executor.ExecuteAsyncInternal[T](RESTCommand`1 cmd, IRetryPolicy policy, OperationContext operationContext, CancellationToken token) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Core\Executor\Executor.cs:line 91
   --- End of inner exception stack trace ---
   at Malam.Mastpen.Core.BL.Services.BlobStorageService.UploadFileToBlobAsync(String strFileName, Byte[] fileData, String fileMimeType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\BlobStorageService.cs:line 98
Request Information
RequestID:
RequestDate:
StatusMessage:
ErrorCode:
<---

2019-08-18 07:10:16,618 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-18 07:10:16,725 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API) in 16906.4958ms
2019-08-18 07:10:16,732 INFO - Request finished in 16998.3963ms 200 application/json; charset=utf-8
2019-08-18 07:10:34,820 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Notes application/json-patch+json 228
2019-08-18 07:10:34,823 INFO - CORS policy execution failed.
2019-08-18 07:10:34,825 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-08-18 07:10:34,832 INFO - Successfully validated the token.
2019-08-18 07:10:34,835 DEBUG - AuthenticationScheme: Bearer was successfully authenticated.
2019-08-18 07:10:38,254 INFO - Route matched with {action = "PostEmployeeNoteAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API)
2019-08-18 07:10:38,256 INFO - Authorization was successful.
2019-08-18 07:10:38,257 INFO - 'PostEmployeeNoteAsync' has been invoked
2019-08-18 07:10:38,258 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.NoteRequest) - Validation state: Valid
2019-08-18 07:11:07,030 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-18 07:11:07,176 INFO - Executed DbCommand (72ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Notes] ([dateInsert], [dateUpdate], [EntityID], [EntityTypeID], [NoteContent], [NoteTypeID], [SiteID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [NoteID], [state]
FROM [BB_GEN_Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2019-08-18 07:11:07,342 INFO - Executed DbCommand (72ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-08-18 07:11:07,796 INFO - The PostEmployeeNoteAsync have been retrieved successfully.
2019-08-18 07:11:07,797 INFO - test log
2019-08-18 07:11:07,798 ERROR - There was a critical error on 'PostEmployeeNoteAsync':   System.AggregateException: One or more errors occurred. (The format of value 'image' is invalid.) ---> Microsoft.WindowsAzure.Storage.StorageException: The format of value 'image' is invalid. ---> System.FormatException: The format of value 'image' is invalid.
   at System.Net.Http.Headers.HttpHeaderParser.ParseValue(String value, Object storeValue, Int32& index)
   at System.Net.Http.Headers.MediaTypeHeaderValue.Parse(String input)
   at Microsoft.WindowsAzure.Storage.Blob.Protocol.BlobHttpRequestMessageFactory.Put(Uri uri, Nullable`1 timeout, BlobProperties properties, BlobType blobType, Int64 pageBlobSize, Nullable`1 pageBlobTier, AccessCondition accessCondition, HttpContent content, OperationContext operationContext, ICanonicalizer canonicalizer, StorageCredentials credentials) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Blob\Protocol\BlobHttpRequestMessageFactory.cs:line 89
   at Microsoft.WindowsAzure.Storage.Blob.CloudBlockBlob.<>c__DisplayClass83_0.<PutBlobImpl>b__1(RESTCommand`1 cmd, Uri uri, UriQueryBuilder builder, HttpContent cnt, Nullable`1 serverTimeout, OperationContext ctx) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Blob\CloudBlockBlob.cs:line 1436
   at Microsoft.WindowsAzure.Storage.Core.Executor.Executor.ExecuteAsyncInternal[T](RESTCommand`1 cmd, IRetryPolicy policy, OperationContext operationContext, CancellationToken token) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Core\Executor\Executor.cs:line 91
   --- End of inner exception stack trace ---
   at Malam.Mastpen.Core.BL.Services.BlobStorageService.UploadFileToBlobAsync(String strFileName, Byte[] fileData, String fileMimeType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\BlobStorageService.cs:line 98
   --- End of inner exception stack trace ---
   at Malam.Mastpen.Core.BL.Services.BlobStorageService.UploadFileToBlob(String strFileName, FileRequest fileRequest) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\BlobStorageService.cs:line 40
   at Malam.Mastpen.Core.BL.Services.Service.CreateDocsAsync(Docs docs, Type type, String fileName, FileRequest file, Int32 documentType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\Service.cs:line 155
   at Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync(NoteRequest request) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.API\Controllers\EmployeeController.cs:line 561
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
---> (Inner Exception #0) Microsoft.WindowsAzure.Storage.StorageException: The format of value 'image' is invalid. ---> System.FormatException: The format of value 'image' is invalid.
   at System.Net.Http.Headers.HttpHeaderParser.ParseValue(String value, Object storeValue, Int32& index)
   at System.Net.Http.Headers.MediaTypeHeaderValue.Parse(String input)
   at Microsoft.WindowsAzure.Storage.Blob.Protocol.BlobHttpRequestMessageFactory.Put(Uri uri, Nullable`1 timeout, BlobProperties properties, BlobType blobType, Int64 pageBlobSize, Nullable`1 pageBlobTier, AccessCondition accessCondition, HttpContent content, OperationContext operationContext, ICanonicalizer canonicalizer, StorageCredentials credentials) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Blob\Protocol\BlobHttpRequestMessageFactory.cs:line 89
   at Microsoft.WindowsAzure.Storage.Blob.CloudBlockBlob.<>c__DisplayClass83_0.<PutBlobImpl>b__1(RESTCommand`1 cmd, Uri uri, UriQueryBuilder builder, HttpContent cnt, Nullable`1 serverTimeout, OperationContext ctx) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Blob\CloudBlockBlob.cs:line 1436
   at Microsoft.WindowsAzure.Storage.Core.Executor.Executor.ExecuteAsyncInternal[T](RESTCommand`1 cmd, IRetryPolicy policy, OperationContext operationContext, CancellationToken token) in C:\Program Files (x86)\Jenkins\workspace\release_dotnet_master\Lib\WindowsRuntime\Core\Executor\Executor.cs:line 91
   --- End of inner exception stack trace ---
   at Malam.Mastpen.Core.BL.Services.BlobStorageService.UploadFileToBlobAsync(String strFileName, Byte[] fileData, String fileMimeType) in C:\Users\riki_apter.000\source\repos\MastpenProject\Malam.Mastpen.MS.HR\Malam.Mastpen.Core\BL\Services\BlobStorageService.cs:line 98
Request Information
RequestID:
RequestDate:
StatusMessage:
ErrorCode:
<---

2019-08-18 07:11:07,801 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.PagedResponse`1[[Malam.Mastpen.Core.DAL.Entities.Employee, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-18 07:11:07,803 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API) in 29547.0439ms
2019-08-18 07:11:07,809 INFO - Request finished in 32989.1509ms 200 application/json; charset=utf-8
2019-08-18 07:11:11,483 INFO - Request starting HTTP/1.1 POST http://localhost:59821/api/v1/Employee/Notes application/json-patch+json 233
2019-08-18 07:11:11,485 INFO - CORS policy execution failed.
2019-08-18 07:11:11,486 INFO - Request origin http://localhost:59821 does not have permission to access the resource.
2019-08-18 07:11:11,489 INFO - Successfully validated the token.
2019-08-18 07:11:11,491 DEBUG - AuthenticationScheme: Bearer was successfully authenticated.
2019-08-18 07:11:11,494 INFO - Route matched with {action = "PostEmployeeNoteAsync", controller = "Employee"}. Executing action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API)
2019-08-18 07:11:11,497 INFO - Authorization was successful.
2019-08-18 07:11:11,498 INFO - 'PostEmployeeNoteAsync' has been invoked
2019-08-18 07:11:11,501 INFO - Executing action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API) with arguments (Malam.Mastpen.Core.BL.Requests.NoteRequest) - Validation state: Valid
2019-08-18 07:11:13,048 INFO - Entity Framework Core 2.2.4-servicing-10062 initialized 'MastpenBitachonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-18 07:11:13,195 INFO - Executed DbCommand (72ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 50), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Notes] ([dateInsert], [dateUpdate], [EntityID], [EntityTypeID], [NoteContent], [NoteTypeID], [SiteID], [userInsert], [UserUpdate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [NoteID], [state]
FROM [BB_GEN_Notes]
WHERE @@ROWCOUNT = 1 AND [NoteID] = scope_identity();
2019-08-18 07:11:13,351 INFO - Executed DbCommand (72ms) [Parameters=[@__entity_EntityTypeId_0='?' (DbType = Int32), @__entity_EntityId_1='?' (DbType = Int32), @__entity_DocumentTypeId_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[DocumentID], [item].[dateInsert], [item].[dateUpdate], [item].[DocumentDate], [item].[DocumentPath], [item].[DocumentTypeID], [item].[EntityID], [item].[EntityTypeID], [item].[IsDocumentSigned], [item].[LanguageID], [item].[state], [item].[userInsert], [item].[UserUpdate], [item].[ValIdDate]
FROM [BB_GEN_Docs] AS [item]
WHERE (([item].[EntityTypeID] = @__entity_EntityTypeId_0) AND ([item].[EntityID] = @__entity_EntityId_1)) AND ([item].[DocumentTypeID] = @__entity_DocumentTypeId_2)
2019-08-18 07:11:13,937 INFO - Executed DbCommand (73ms) [Parameters=[@__tableName_0='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [item].[EntityTypeID], [item].[dateInsert], [item].[dateUpdate], [item].[EntityTypeName], [item].[state], [item].[TableName], [item].[userInsert], [item].[UserUpdate]
FROM [BB_GEN_EntityType] AS [item]
WHERE [item].[EntityTypeName] = @__tableName_0
2019-08-18 07:11:14,280 INFO - Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [BB_GEN_Docs] ([dateInsert], [dateUpdate], [DocumentDate], [DocumentPath], [DocumentTypeID], [EntityID], [EntityTypeID], [IsDocumentSigned], [LanguageID], [userInsert], [UserUpdate], [ValIdDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT [DocumentID], [state]
FROM [BB_GEN_Docs]
WHERE @@ROWCOUNT = 1 AND [DocumentID] = scope_identity();
2019-08-18 07:11:14,368 INFO - Executed action method Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2864.0708ms.
2019-08-18 07:11:14,368 INFO - The PostEmployeeNoteAsync have been retrieved successfully.
2019-08-18 07:11:14,372 INFO - Executing ObjectResult, writing value of type 'Malam.Mastpen.Core.BL.Responses.SingleResponse`1[[Malam.Mastpen.Core.BL.Requests.NoteRequest, Malam.Mastpen.HR.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-18 07:11:14,387 INFO - Executed action Malam.Mastpen.API.Controllers.EmployeeController.PostEmployeeNoteAsync (Malam.Mastpen.HR.API) in 2890.0036ms
2019-08-18 07:11:14,392 INFO - Request finished in 2906.3813ms 200 application/json; charset=utf-8
